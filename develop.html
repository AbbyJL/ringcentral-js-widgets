<!DOCTYPE html>
<html>

<head>
    <title>RingCentral JS Widget Develop Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="src/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="src/styles/main.css">
    <link rel="stylesheet" type="text/css" href="src/styles/call-log.css">
</head>

<body>
    <div>
        <div id="dev-panel"></div>
    </div>
    <script type="text/javascript" src="bower_components/ringcentral/build/ringcentral-bundle.js"></script>
    <script type="text/javascript" src="bower_components/ringcentral-web-phone/build/ringcentral-web-phone.js"></script>
    <script type="text/javascript" src='build/build.js'></script>
    <script type="text/javascript">
    
    w.config({
        path: './template/',
        preload: ['call-log']
    }, function(){
        
        LoginService.checkLoginStatus().then(
            function(isLoggedIn){
                if(isLoggedIn){
                    
                    var widget = w('call-log',{
                        
                        actions:{
                            
                            init:{
                                method:function(){
                                    return CallLogService.getCallLogs();
                                }
                            }
                            
                        }
                        
                    });
                    
                    widget.render('#dev-panel');
                    
                }else{
                    LoginService.login('16508370092','','!Ruddylyl1806016040')
                }
            }
        )
        
    });
     
    
    

    </script>
</body>

</html>
