{"version":3,"sources":["containers/ContactsPage/index.js"],"names":["mapToProps","_","locale","contactSearch","currentLocale","contactSourceNames","contactGroups","searchSource","searchCriteria","sourceName","searchString","currentPage","pageNumber","showSpinner","ready","mapToFunctions","router","contacts","getAvatarUrl","contact","getPresence","presence","onItemSelect","type","id","isInsure","map","toString","includes","JSON","parse","state","showAlert","currentSearchCriteria","searchPlus","undefined","push","onSearchContact","ContactsPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;AAEA,SAASA,UAAT,CAAoBC,CAApB,QAGG;AAAA,MAFDC,MAEC,QAFDA,MAEC;AAAA,MADDC,aACC,QADDA,aACC;;AACD,SAAO;AACLC,mBAAeF,OAAOE,aADjB;AAELC,wBAAoBF,cAAcE,kBAAd,IAAoC,EAFnD;AAGLC,mBAAeH,cAAcG,aAAd,IAA+B,EAHzC;AAILC,kBAAcJ,cAAcK,cAAd,IAAgCL,cAAcK,cAAd,CAA6BC,UAJtE;AAKLC,kBAAcP,cAAcK,cAAd,IAAgCL,cAAcK,cAAd,CAA6BE,YALtE;AAMLC,iBAAaR,cAAcK,cAAd,IAAgCL,cAAcK,cAAd,CAA6BI,UANrE;AAOLC,iBAAa,EACXX,OAAOY,KAAP,IACAX,cAAcW,KAFH;AAPR,GAAP;AAYD;;AAED,SAASC,cAAT,CAAwBd,CAAxB,SAIG;AAAA;;AAAA,MAHDe,MAGC,SAHDA,MAGC;AAAA,MAFDC,QAEC,SAFDA,QAEC;AAAA,MADDd,aACC,SADDA,aACC;;AACD,SAAO;AACLe;AAAA,6EAAc,iBAAMC,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ;AACA;AACC,oBAHW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAd;;AAAA;AAAA;AAAA;AAAA,OADK;AAKLC;AAAA,6EAAa,kBAAOD,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACYF,SAASG,WAAT,CAAqBD,OAArB,CADZ;;AAAA;AACLE,wBADK;AAAA,kDAEJA,QAFI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAb;;AAAA;AAAA;AAAA;AAAA,OALK;AASLC;AAAA,6EAAc;AAAA,YAASC,IAAT,SAASA,IAAT;AAAA,YAAeC,EAAf,SAAeA,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACNjB,4BADM,GACSU,SAAYM,IAAZ,kBAA+B,EADxC;AAENE,wBAFM,GAEKlB,aAAamB,GAAb,CAAiB;AAAA,sBAAGF,EAAH,SAAGA,EAAH;AAAA,yBAAYA,GAAGG,QAAH,EAAZ;AAAA,iBAAjB,EAA4CC,QAA5C,CAAqDJ,EAArD,CAFL;;AAAA,oBAGPC,QAHO;AAAA;AAAA;AAAA;;AAIJjB,8BAJI,GAIaqB,KAAKC,KAAL,CAAW,yBAAe3B,cAAc4B,KAAd,CAAoBvB,cAAnC,CAAX,CAJb;AAAA;AAAA,uBAKJS,SAASe,SAAT,EALI;;AAAA;AAMJC,qCANI,GAMoB9B,cAAc4B,KAAd,CAAoBvB,cANxC;AAAA;AAAA,uBAOJL,cAAc+B,UAAd,4BAA8BD,qBAA9B,IAAqDvB,cAAcyB,SAAnE,IAPI;;AAAA;AAAA;AAAA,uBAQJhC,cAAc+B,UAAd,CAAyB1B,cAAzB,CARI;;AAAA;AAAA;AAAA;;AAAA;AAUVQ,uBAAOoB,IAAP,gBAAyBb,IAAzB,SAAiCC,EAAjC;;AAVU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAd;;AAAA;AAAA;AAAA;AAAA,OATK;AAsBL;AACA;AACA;AACAa,qBAAiB,gCAAgD;AAAA,UAA7C9B,YAA6C,SAA7CA,YAA6C;AAAA,UAA/BG,YAA+B,SAA/BA,YAA+B;AAAA,UAAjBE,UAAiB,SAAjBA,UAAiB;;AAC/DT,oBAAc+B,UAAd,CAAyB;AACvBzB,oBAAYF,YADW;AAEvBG,kCAFuB;AAGvBE;AAHuB,OAAzB;AAKD;AA/BI,GAAP;AAiCD;;AAED,IAAM0B,eAAe,yBAAQtC,UAAR,EAAoBe,cAApB,yBAArB;;kBAEeuB,Y","file":"index.js","sourcesContent":["import { connect } from 'react-redux';\nimport ContactsView from '../../components/ContactsView';\n\nfunction mapToProps(_, {\n  locale,\n  contactSearch,\n}) {\n  return {\n    currentLocale: locale.currentLocale,\n    contactSourceNames: contactSearch.contactSourceNames || [],\n    contactGroups: contactSearch.contactGroups || [],\n    searchSource: contactSearch.searchCriteria && contactSearch.searchCriteria.sourceName,\n    searchString: contactSearch.searchCriteria && contactSearch.searchCriteria.searchString,\n    currentPage: contactSearch.searchCriteria && contactSearch.searchCriteria.pageNumber,\n    showSpinner: !(\n      locale.ready &&\n      contactSearch.ready\n    ),\n  };\n}\n\nfunction mapToFunctions(_, {\n  router,\n  contacts,\n  contactSearch,\n}) {\n  return {\n    getAvatarUrl: async contact =>\n      // const avatarUrl = await contacts.getImageProfile(contact);\n      // return avatarUrl;\n       null,\n    getPresence: async (contact) => {\n      const presence = await contacts.getPresence(contact);\n      return presence;\n    },\n    onItemSelect: async ({ type, id }) => {\n      const searchSource = contacts[`${type}Contacts`] || [];\n      const isInsure = searchSource.map(({ id }) => id.toString()).includes(id);\n      if (!isInsure) {\n        const searchCriteria = JSON.parse(JSON.stringify(contactSearch.state.searchCriteria));\n        await contacts.showAlert();\n        const currentSearchCriteria = contactSearch.state.searchCriteria;\n        await contactSearch.searchPlus({ ...currentSearchCriteria, searchString: undefined });\n        await contactSearch.searchPlus(searchCriteria);\n      } else {\n        router.push(`/contacts/${type}/${id}`);\n      }\n    },\n    // onRestSearch: () => {\n    //   contactSearch.resetSearchStatus();\n    // },\n    onSearchContact: ({ searchSource, searchString, pageNumber }) => {\n      contactSearch.searchPlus({\n        sourceName: searchSource,\n        searchString,\n        pageNumber,\n      });\n    },\n  };\n}\n\nconst ContactsPage = connect(mapToProps, mapToFunctions)(ContactsView);\n\nexport default ContactsPage;\n"]}