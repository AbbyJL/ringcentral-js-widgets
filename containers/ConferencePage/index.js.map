{"version":3,"sources":["containers/ConferencePage/index.js"],"names":["mapToProps","_","phone","conference","regionSettings","locale","currentLocale","localeReady","ready","composeText","serviceFeatures","extensionInfo","brand","data","hostCode","participantCode","allowJoinBeforeHost","dialInNumbers","phoneNumbers","map","p","_region","getString","country","isoCode","region","location","phoneNumber","disableTxtBtn","SMS","enabled","Pager","dialInNumber","additionalNumbers","countryCode","areaCode","code","name","showSpinner","mapToFunctions","routerInteraction","call","alert","msg","warning","message","updateDialInNumber","updateAdditionalNumbers","additionalDialInNumbers","inviteWithText","text","updateMessageText","onInviteWithText","push","joinAsHost","onJoinAsHost","history","onAllowJoinBeforeHostChange","updateEnableJoinBeforeHost","showHelpCommands","ConferencePage","default"],"mappings":"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","file":"index.js","sourcesContent":["import { connect } from 'react-redux';\nimport ConferencePanel from '../../components/ConferencePanel';\nimport withPhone from '../../lib/withPhone';\nimport i18n from './i18n';\n\nfunction mapToProps(_, {\n  phone: {\n    conference,\n    regionSettings,\n    locale: {\n      currentLocale,\n      ready: localeReady\n    },\n    composeText,\n    extensionInfo: { serviceFeatures },\n    brand\n  },\n}) {\n  const { data } = conference;\n  const { hostCode, participantCode, allowJoinBeforeHost } = data;\n  const dialInNumbers = data.phoneNumbers.map((p) => {\n    const _region = i18n.getString(`conference_${p.country.isoCode}`, currentLocale);\n    // only show the provinces of canada\n    return {\n      region: p.location && p.country.isoCode === 'CA'\n        ? `${_region}, ${p.location}`\n        : _region,\n      phoneNumber: p.phoneNumber\n    };\n  });\n  const disableTxtBtn = !serviceFeatures.SMS.enabled && !serviceFeatures.Pager.enabled;\n  return {\n    dialInNumbers,\n    dialInNumber: conference.dialInNumber,\n    hostCode,\n    participantCode,\n    allowJoinBeforeHost,\n    additionalNumbers: conference.additionalNumbers,\n    disableTxtBtn,\n    countryCode: regionSettings.countryCode,\n    areaCode: regionSettings.areaCode,\n    currentLocale,\n    brand: {\n      code: brand.code,\n      name: brand.name\n    },\n    showSpinner: !(\n      conference.ready &&\n      regionSettings.ready &&\n      localeReady &&\n      composeText.ready\n    ),\n  };\n}\n\nfunction mapToFunctions(_, {\n  phone: {\n    conference,\n    composeText,\n    routerInteraction,\n    call,\n    alert\n  },\n}) {\n  return {\n    alert: (msg) => {\n      alert.warning({ message: msg });\n    },\n    updateDialInNumber: (dialInNumber) => {\n      conference.updateDialInNumber(dialInNumber);\n    },\n    updateAdditionalNumbers: (additionalDialInNumbers) => {\n      conference.updateAdditionalNumbers(additionalDialInNumbers);\n    },\n    inviteWithText: (text) => {\n      composeText.updateMessageText(text);\n      // for track\n      conference.onInviteWithText();\n      routerInteraction.push('/composeText');\n    },\n    joinAsHost: (phoneNumber) => {\n      // for track\n      conference.onJoinAsHost();\n      routerInteraction.history.push('/dialer');\n      call.call({ phoneNumber });\n    },\n    onAllowJoinBeforeHostChange: (allowJoinBeforeHost) => {\n      conference.updateEnableJoinBeforeHost(allowJoinBeforeHost);\n    },\n    showHelpCommands: () => {\n      routerInteraction.push('/conference/commands');\n    }\n  };\n}\n\n\nconst ConferencePage = withPhone(connect(\n  mapToProps,\n  mapToFunctions,\n)(ConferencePanel));\n\n\nexport {\n  mapToFunctions,\n  mapToProps,\n  ConferencePage as default,\n};\n"]}