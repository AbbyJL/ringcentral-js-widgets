{"version":3,"sources":["containers/ConferencePage/index.js"],"names":["mapToProps","_","phone","conference","regionSettings","locale","composeText","serviceFeatures","extensionInfo","brand","data","hostCode","participantCode","allowJoinBeforeHost","dialInNumbers","phoneNumbers","p","region","country","name","location","push","phoneNumber","disableTxtBtn","SMS","enabled","Pager","dialInNumber","additionalNumbers","countryCode","areaCode","currentLocale","code","showSpinner","ready","mapToFunctions","routerInteraction","call","alert","msg","warning","message","updateDialInNumber","updateAdditionalNumbers","additionalDialInNumbers","inviteWithText","text","updateMessageText","joinAsHost","history","onAllowJoinBeforeHostChange","updateEnableJoinBeforeHost","showHelpCommands","ConferencePage","default"],"mappings":"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","file":"index.js","sourcesContent":["import { connect } from 'react-redux';\nimport ConferencePanel from '../../components/ConferencePanel';\nimport withPhone from '../../lib/withPhone';\n\nfunction mapToProps(_, {\n  phone: {\n    conference,\n    regionSettings,\n    locale,\n    composeText,\n    extensionInfo: { serviceFeatures },\n    brand\n  },\n}) {\n  const { data } = conference;\n  const { hostCode, participantCode, allowJoinBeforeHost } = data;\n  const dialInNumbers = [];\n  for (const p of data.phoneNumbers) {\n    let region = p.country.name;\n    if (p.location) {\n      region += ', ';\n      region += p.location;\n    }\n    dialInNumbers.push({\n      region,\n      phoneNumber: p.phoneNumber\n    });\n  }\n  const disableTxtBtn = !serviceFeatures.SMS.enabled && !serviceFeatures.Pager.enabled;\n  return {\n    dialInNumbers,\n    dialInNumber: conference.dialInNumber,\n    hostCode,\n    participantCode,\n    allowJoinBeforeHost,\n    additionalNumbers: conference.additionalNumbers,\n    disableTxtBtn,\n    countryCode: regionSettings.countryCode,\n    areaCode: regionSettings.areaCode,\n    currentLocale: locale.currentLocale,\n    brand: {\n      code: brand.code,\n      name: brand.name\n    },\n    showSpinner: !(\n      conference.ready &&\n      regionSettings.ready &&\n      locale.ready &&\n      composeText.ready\n    ),\n  };\n}\n\nfunction mapToFunctions(_, {\n  phone: {\n    conference,\n    composeText,\n    routerInteraction,\n    call,\n    alert\n  },\n}) {\n  return {\n    alert: (msg) => {\n      alert.warning({ message: msg });\n    },\n    updateDialInNumber: (dialInNumber) => {\n      conference.updateDialInNumber(dialInNumber);\n    },\n    updateAdditionalNumbers: (additionalDialInNumbers) => {\n      conference.updateAdditionalNumbers(additionalDialInNumbers);\n    },\n    inviteWithText: (text) => {\n      composeText.updateMessageText(text);\n      routerInteraction.push('/composeText');\n    },\n    joinAsHost: (phoneNumber) => {\n      routerInteraction.history.push('/dialer');\n      call.call({ phoneNumber });\n    },\n    onAllowJoinBeforeHostChange: (allowJoinBeforeHost) => {\n      conference.updateEnableJoinBeforeHost(allowJoinBeforeHost);\n    },\n    showHelpCommands: () => {\n      routerInteraction.push('/conference/commands');\n    }\n  };\n}\n\n\nconst ConferencePage = withPhone(connect(\n  mapToProps,\n  mapToFunctions,\n)(ConferencePanel));\n\n\nexport {\n  mapToFunctions,\n  mapToProps,\n  ConferencePage as default,\n};\n"]}