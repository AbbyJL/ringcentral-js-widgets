{"version":3,"sources":["containers/ConversationPage/index.js"],"names":["ConversationPage","formatPhone","props","formatNumber","changeDefaultRecipient","changeMatchedNames","getRecipientName","recipient","getMatcherContactList","getMatcherContactNameList","loadConversation","unloadConversation","phoneNumber","extensionNumber","getMatcherContactName","matcherName","name","id","conversationId","loadConversationById","brand","countryCode","areaCode","disableLinks","currentLocale","messages","messageText","updateMessageText","conversation","onLogConversation","isLoggedContact","recipients","showSpinner","replyToReceivers","sendButtonDisabled","autoLog","dateTimeFormatter","showContactDisplayPlaceholder","goBack","sourceIcons","showGroupNumberName","messageSubjectRenderer","Component","propTypes","PropTypes","string","isRequired","bool","ConversationPanel","func","object","defaultProps","undefined","childContextTypes","mapToProps","_","phone","locale","conversationLogger","dateTimeFormat","contactMatcher","regionSettings","rateLimiter","connectivityMonitor","params","enableContactFallback","isThrottling","connectivity","ready","fullName","pushing","length","allConversations","find","item","mapToFunctions","routerInteraction","formatDateTime","matcherNames","dataMapping","map","matcher","phoneNumbers","phoneType","join","text","redirect","options","logConversation","push","updateTypeFilter","messageTypes"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport messageTypes from 'ringcentral-integration/enums/messageTypes';\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\n\nimport ConversationPanel from '../../components/ConversationPanel';\nimport withPhone from '../../lib/withPhone';\n\nclass ConversationPage extends Component {\n  getChildContext() {\n    return {\n      formatPhone: this.props.formatNumber,\n      changeDefaultRecipient: this.props.changeDefaultRecipient,\n      changeMatchedNames: this.props.changeMatchedNames,\n      getRecipientName: recipient => (this.getRecipientName(recipient)),\n      getMatcherContactList: this.props.getMatcherContactList,\n      getMatcherContactNameList: this.props.getMatcherContactNameList,\n    };\n  }\n\n  componentDidMount() {\n    this.loadConversation();\n  }\n\n  componentWillUnmount() {\n    this.props.unloadConversation();\n  }\n\n  getRecipientName(recipient) {\n    const phoneNumber = recipient.phoneNumber || recipient.extensionNumber;\n    if (phoneNumber && this.props.getMatcherContactName) {\n      const matcherName = this.props.getMatcherContactName(phoneNumber);\n      if (matcherName) {\n        return matcherName;\n      }\n      return this.props.formatNumber(phoneNumber);\n    }\n    if (recipient.name) {\n      return recipient.name;\n    }\n    return this.props.formatNumber(phoneNumber);\n  }\n\n  loadConversation() {\n    const id = this.props.conversationId;\n    this.props.loadConversationById(id);\n  }\n\n  render() {\n    return (\n      <ConversationPanel\n        brand={this.props.brand}\n        countryCode={this.props.countryCode}\n        areaCode={this.props.areaCode}\n        disableLinks={this.props.disableLinks}\n        conversationId={this.props.conversationId}\n        currentLocale={this.props.currentLocale}\n        messages={this.props.messages}\n        messageText={this.props.messageText}\n        updateMessageText={this.props.updateMessageText}\n        conversation={this.props.conversation}\n        onLogConversation={this.props.onLogConversation}\n        isLoggedContact={this.props.isLoggedContact}\n        recipients={this.props.recipients}\n        showSpinner={this.props.showSpinner}\n        replyToReceivers={this.props.replyToReceivers}\n        sendButtonDisabled={this.props.sendButtonDisabled}\n        autoLog={this.props.autoLog}\n        dateTimeFormatter={this.props.dateTimeFormatter}\n        showContactDisplayPlaceholder={this.props.showContactDisplayPlaceholder}\n        goBack={this.props.goBack}\n        sourceIcons={this.props.sourceIcons}\n        showGroupNumberName={this.props.showGroupNumberName}\n        messageSubjectRenderer={this.props.messageSubjectRenderer}\n      />\n    );\n  }\n}\n\nConversationPage.propTypes = {\n  conversationId: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  sendButtonDisabled: PropTypes.bool.isRequired,\n  showSpinner: PropTypes.bool.isRequired,\n  messages: ConversationPanel.propTypes.messages,\n  messageText: PropTypes.string,\n  updateMessageText: PropTypes.func,\n  recipients: ConversationPanel.propTypes.recipients,\n  replyToReceivers: PropTypes.func.isRequired,\n  unloadConversation: PropTypes.func.isRequired,\n  loadConversationById: PropTypes.func.isRequired,\n  changeDefaultRecipient: PropTypes.func.isRequired,\n  formatNumber: PropTypes.func.isRequired,\n  getMatcherContactName: PropTypes.func,\n  getMatcherContactList: PropTypes.func,\n  getMatcherContactNameList: PropTypes.func,\n  changeMatchedNames: PropTypes.func.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  sourceIcons: PropTypes.object,\n  showGroupNumberName: PropTypes.bool.isRequired,\n  messageSubjectRenderer: PropTypes.func,\n};\n\nConversationPage.defaultProps = {\n  messageText: '',\n  getMatcherContactName: null,\n  getMatcherContactList: () => [],\n  getMatcherContactNameList: () => [],\n  updateMessageText: () => {},\n  sourceIcons: undefined,\n  messageSubjectRenderer: undefined,\n};\n\nConversationPage.childContextTypes = {\n  formatPhone: PropTypes.func.isRequired,\n  getRecipientName: PropTypes.func.isRequired,\n  changeDefaultRecipient: PropTypes.func.isRequired,\n  changeMatchedNames: PropTypes.func.isRequired,\n  getMatcherContactList: PropTypes.func.isRequired,\n  getMatcherContactNameList: PropTypes.func.isRequired,\n};\n\nfunction mapToProps(_, {\n  phone: {\n    brand,\n    locale,\n    conversation,\n    conversationLogger,\n    dateTimeFormat,\n    contactMatcher,\n    regionSettings,\n    messages,\n    rateLimiter,\n    connectivityMonitor,\n  },\n  params,\n  enableContactFallback = false,\n  showGroupNumberName = false,\n}) {\n  const disableLinks = (\n    rateLimiter.isThrottling ||\n    !connectivityMonitor.connectivity\n  );\n  const showSpinner = !(\n    dateTimeFormat.ready &&\n    (!contactMatcher || contactMatcher.ready) &&\n    conversation.ready &&\n    regionSettings.ready &&\n    messages.ready &&\n    rateLimiter.ready &&\n    connectivityMonitor.ready &&\n    (!conversationLogger || conversationLogger.ready)\n  );\n  return ({\n    brand: brand.fullName,\n    enableContactFallback,\n    showGroupNumberName,\n    currentLocale: locale.currentLocale,\n    conversationId: params.conversationId,\n    sendButtonDisabled: (\n      conversation.pushing ||\n      disableLinks ||\n      conversation.messageText.length === 0 ||\n      showSpinner\n    ),\n    areaCode: regionSettings.areaCode,\n    countryCode: regionSettings.countryCode,\n    showSpinner,\n    recipients: conversation.recipients,\n    messages: conversation.messages,\n    messageText: conversation.messageText,\n    conversation: messages.allConversations.find(item => (\n      item.conversationId === params.conversationId\n    )),\n    disableLinks: (\n      rateLimiter.isThrottling || !connectivityMonitor.connectivity\n    ),\n    autoLog: !!(conversationLogger && conversationLogger.autoLog),\n  });\n}\n\nfunction mapToFunctions(_, {\n  phone: {\n    contactMatcher,\n    conversation,\n    dateTimeFormat,\n    routerInteraction,\n    conversationLogger,\n    regionSettings,\n    messages,\n  },\n  dateTimeFormatter = (...args) => dateTimeFormat.formatDateTime(...args),\n  isLoggedContact,\n  onLogConversation,\n}) {\n  let getMatcherContactName;\n  let getMatcherContactList;\n  let getMatcherContactNameList;\n  if (contactMatcher && contactMatcher.ready) {\n    getMatcherContactList = (phoneNumber) => {\n      const matcherNames = contactMatcher.dataMapping[phoneNumber];\n      if (matcherNames && matcherNames.length > 0) {\n        return matcherNames.map(matcher =>\n          `${matcher.name} | ${matcher.phoneNumbers[0].phoneType}`\n        );\n      }\n      return [];\n    };\n    getMatcherContactNameList = (phoneNumber) => {\n      const matcherNames = contactMatcher.dataMapping[phoneNumber];\n      if (matcherNames && matcherNames.length > 0) {\n        return matcherNames.map(matcher => matcher.name);\n      }\n      return [];\n    };\n    getMatcherContactName = (phoneNumber) => {\n      const matcherNames = getMatcherContactNameList(phoneNumber);\n      if (matcherNames && matcherNames.length > 0) {\n        return matcherNames.join('&');\n      }\n      return null;\n    };\n  }\n\n  return {\n    replyToReceivers: (...args) => conversation.replyToReceivers(...args),\n    changeDefaultRecipient: (...args) => conversation.changeDefaultRecipient(...args),\n    changeMatchedNames: (...args) => conversation.changeMatchedNames(...args),\n    unloadConversation: () => conversation.unloadConversation(),\n    loadConversationById: id => conversation.loadConversationById(id),\n    updateMessageText: text => conversation.updateMessageText(text),\n    dateTimeFormatter,\n    formatNumber: phoneNumber => formatNumber({\n      phoneNumber,\n      areaCode: regionSettings.areaCode,\n      countryCode: regionSettings.countryCode,\n    }),\n    getMatcherContactName,\n    getMatcherContactList,\n    getMatcherContactNameList,\n    isLoggedContact,\n    onLogConversation: onLogConversation ||\n    (conversationLogger && (async ({ redirect = true, ...options }) => {\n      await conversationLogger.logConversation({\n        ...options,\n        redirect,\n      });\n    })),\n    goBack: () => {\n      routerInteraction.push('/messages');\n      messages.updateTypeFilter(messageTypes.text);\n    },\n  };\n}\n\nexport default withPhone(connect(\n  mapToProps,\n  mapToFunctions,\n)(ConversationPage));\n"]}