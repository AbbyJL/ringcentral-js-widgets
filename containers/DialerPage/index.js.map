{"version":3,"sources":["containers/DialerPage/index.js"],"names":["mapToProps","_","phone","call","dialerUI","callingSettings","contactSearch","connectivityMonitor","locale","rateLimiter","webphone","audioSettings","dialButtonVolume","dialButtonMuted","isWebphoneMode","callingMode","waitingWebphoneConnected","connecting","webphoneDisconnected","connected","currentLocale","callButtonDisabled","isIdle","connectivity","throttling","toNumber","toNumberField","recipient","searchContactList","sortedResult","fromNumbers","fromNumber","showSpinner","ready","mapToFunctions","regionSettings","onToNumberChange","setToNumberField","value","clearToNumber","clearToNumberField","onCallButtonClick","changeFromNumber","updateFromNumber","formatPhone","phoneNumber","areaCode","countryCode","setRecipient","clearRecipient","searchContact","search","searchString","DialerPage","default"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA,SAASA,UAAT,CAAoBC,CAApB,QAeG;AAAA,wBAdDC,KAcC;AAAA,MAbCC,IAaD,cAbCA,IAaD;AAAA,MAZCC,QAYD,cAZCA,QAYD;AAAA,MAXCC,eAWD,cAXCA,eAWD;AAAA,MAVCC,aAUD,cAVCA,aAUD;AAAA,MATCC,mBASD,cATCA,mBASD;AAAA,MARCC,MAQD,cARCA,MAQD;AAAA,MAPCC,WAOD,cAPCA,WAOD;AAAA,MANCC,QAMD,cANCA,QAMD;AAAA,yCALCC,aAKD;AAAA,MAJGC,gBAIH,yBAJGA,gBAIH;AAAA,MAHGC,eAGH,yBAHGA,eAGH;;AACD,MAAMC,iBAAkBT,gBAAgBU,WAAhB,KAAgC,uBAAaL,QAArE;AACA,MAAMM,2BAA4BF,kBAAkBJ,QAAlB,IAA8BA,SAASO,UAAzE;AACA,MAAMC,uBAAwBJ,kBAAkBJ,QAAlB,IAA8B,CAACA,SAASS,SAAtE;AACA,SAAO;AACLC,mBAAeZ,OAAOY,aADjB;AAELL,iBAAaV,gBAAgBU,WAFxB;AAGLD,kCAHK;AAILO,wBACE,CAAClB,KAAKmB,MAAN,IACG,CAACf,oBAAoBgB,YADxB,IAEGd,YAAYe,UAFf,IAGGN,oBARA;AAULO,cAAUrB,SAASsB,aAVd;AAWLC,eAAWvB,SAASuB,SAXf;AAYLC,uBAAmBtB,cAAcuB,YAZ5B;AAaLC,iBAAazB,gBAAgByB,WAbxB;AAcLC,gBAAY1B,gBAAgB0B,UAdvB;AAeLC,iBAAa,EACX7B,KAAK8B,KAAL,IACA5B,gBAAgB4B,KADhB,IAEAzB,OAAOyB,KAFP,IAGA1B,oBAAoB0B,KAHpB,KAIC,CAACnB,cAAD,IAAmB,CAACJ,QAApB,IAAgC,CAACM,wBAJlC,CADW,CAfR;AAsBLJ,sCAtBK;AAuBLC;AAvBK,GAAP;AAyBD;;AAED,SAASqB,cAAT,CAAwBjC,CAAxB,SAOG;AAAA,0BANDC,KAMC;AAAA,MALCG,eAKD,eALCA,eAKD;AAAA,MAJC8B,cAID,eAJCA,cAID;AAAA,MAHC7B,aAGD,eAHCA,aAGD;AAAA,MAFCF,QAED,eAFCA,QAED;;AACD,SAAO;AACLgC,sBAAkB;AAAA,aAChBhC,SAASiC,gBAAT,CAA0BC,KAA1B,CADgB;AAAA,KADb;AAILC,mBAAe;AAAA,aAAMnC,SAASoC,kBAAT,EAAN;AAAA,KAJV;AAKLC,uBAAmB,6BAAM;AACvBrC,eAASqC,iBAAT;AACD,KAPI;AAQLC,sBAAkB;AAAA,aAAarC,gBAAgBsC,gBAAhB,kCAAb;AAAA,KARb;AASLC,iBAAa;AAAA,aAAe,4BAAa;AACvCC,gCADuC;AAEvCC,kBAAUX,kBAAkBA,eAAeW,QAFJ;AAGvCC,qBAAaZ,kBAAkBA,eAAeY;AAHP,OAAb,CAAf;AAAA,KATR;AAcLC,kBAAc;AAAA,aAAa5C,SAAS4C,YAAT,CAAsBrB,SAAtB,CAAb;AAAA,KAdT;AAeLsB,oBAAgB;AAAA,aAAM7C,SAAS6C,cAAT,EAAN;AAAA,KAfX;AAgBLC,mBAAe;AAAA,aACb5C,cAAc6C,MAAd,CAAqB,EAAEC,0BAAF,EAArB,CADa;AAAA;;AAhBV,GAAP;AAqBD;;AAED,IAAMC,aAAa,yBAAU,yBAC3BrD,UAD2B,EAE3BkC,cAF2B,wBAAV,CAAnB;;QAMEA,c,GAAAA,c;QACAlC,U,GAAAA,U;QACcsD,O,GAAdD,U","file":"index.js","sourcesContent":["import { connect } from 'react-redux';\nimport formatNumber from 'ringcentral-integration/lib/formatNumber';\nimport callingModes from 'ringcentral-integration/modules/CallingSettings/callingModes';\n\nimport DialerPanel from '../../components/DialerPanel';\nimport withPhone from '../../lib/withPhone';\n\nfunction mapToProps(_, {\n  phone: {\n    call,\n    dialerUI,\n    callingSettings,\n    contactSearch,\n    connectivityMonitor,\n    locale,\n    rateLimiter,\n    webphone,\n    audioSettings: {\n      dialButtonVolume,\n      dialButtonMuted,\n    },\n  }\n}) {\n  const isWebphoneMode = (callingSettings.callingMode === callingModes.webphone);\n  const waitingWebphoneConnected = (isWebphoneMode && webphone && webphone.connecting);\n  const webphoneDisconnected = (isWebphoneMode && webphone && !webphone.connected);\n  return {\n    currentLocale: locale.currentLocale,\n    callingMode: callingSettings.callingMode,\n    isWebphoneMode,\n    callButtonDisabled: (\n      !call.isIdle\n      || !connectivityMonitor.connectivity\n      || rateLimiter.throttling\n      || webphoneDisconnected\n    ),\n    toNumber: dialerUI.toNumberField,\n    recipient: dialerUI.recipient,\n    searchContactList: contactSearch.sortedResult,\n    fromNumbers: callingSettings.fromNumbers,\n    fromNumber: callingSettings.fromNumber,\n    showSpinner: !(\n      call.ready &&\n      callingSettings.ready &&\n      locale.ready &&\n      connectivityMonitor.ready &&\n      (!isWebphoneMode || !webphone || !waitingWebphoneConnected)\n    ),\n    dialButtonVolume,\n    dialButtonMuted,\n  };\n}\n\nfunction mapToFunctions(_, {\n  phone: {\n    callingSettings,\n    regionSettings,\n    contactSearch,\n    dialerUI,\n  }\n}) {\n  return {\n    onToNumberChange: value => (\n      dialerUI.setToNumberField(value)\n    ),\n    clearToNumber: () => dialerUI.clearToNumberField(),\n    onCallButtonClick: () => {\n      dialerUI.onCallButtonClick();\n    },\n    changeFromNumber: (...args) => callingSettings.updateFromNumber(...args),\n    formatPhone: phoneNumber => formatNumber({\n      phoneNumber,\n      areaCode: regionSettings && regionSettings.areaCode,\n      countryCode: regionSettings && regionSettings.countryCode,\n    }),\n    setRecipient: recipient => dialerUI.setRecipient(recipient),\n    clearRecipient: () => dialerUI.clearRecipient(),\n    searchContact: searchString => (\n      contactSearch.search({ searchString })\n    ),\n\n  };\n}\n\nconst DialerPage = withPhone(connect(\n  mapToProps,\n  mapToFunctions,\n)(DialerPanel));\n\nexport {\n  mapToFunctions,\n  mapToProps,\n  DialerPage as default,\n};\n"]}