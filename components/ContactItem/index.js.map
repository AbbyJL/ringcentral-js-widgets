{"version":3,"sources":["components/ContactItem/index.js"],"names":["AvatarNode","name","avatarUrl","styles","avatarNode","propTypes","PropTypes","string","defaultProps","undefined","ContactItem","props","state","loading","onItemSelected","bind","_mounted","_loadingTimeout","setTimeout","setState","getAvatarUrl","contact","getPresence","clearTimeout","func","onSelect","root","extensionNumber","type","profileImageUrl","presence","sourceNodeRenderer","sourceNode","sourceType","contactProfile","avatarNodeContainer","sourceNodeContainer","presenceNodeContainer","presenceNode","contactName","phoneNumber","PureComponent","shape","id","email","object","isRequired"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport PresenceStatusIcon from '../PresenceStatusIcon';\nimport DefaultAvatar from '../../assets/images/DefaultAvatar.svg';\n\nimport styles from './styles.scss';\n\nfunction AvatarNode({ name, avatarUrl }) {\n  return avatarUrl ?\n    (\n      <img\n        className={styles.avatarNode}\n        alt={name}\n        src={avatarUrl}\n      />\n    ) :\n    (\n      <DefaultAvatar\n        className={styles.avatarNode}\n      />\n    );\n}\nAvatarNode.propTypes = {\n  name: PropTypes.string,\n  avatarUrl: PropTypes.string,\n};\nAvatarNode.defaultProps = {\n  name: undefined,\n  avatarUrl: undefined,\n};\n\nexport default class ContactItem extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n    this.onItemSelected = this.onItemSelected.bind(this);\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    this._loadingTimeout = setTimeout(() => {\n      if (this._mounted) {\n        this.setState({\n          loading: false,\n        });\n      }\n    }, 3);\n    setTimeout(() => {\n      if (this._mounted) {\n        this.props.getAvatarUrl(this.props.contact);\n        this.props.getPresence(this.props.contact);\n      }\n    }, 500);\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    if (this._loadingTimeout) {\n      clearTimeout(this._loadingTimeout);\n    }\n  }\n\n  onItemSelected() {\n    const func = this.props.onSelect;\n    if (func) {\n      func(this.props.contact);\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className={styles.root} />\n      );\n    }\n    const {\n      name,\n      extensionNumber,\n      type,\n      profileImageUrl,\n      presence,\n    } = this.props.contact;\n\n    const { sourceNodeRenderer } = this.props;\n    const sourceNode = sourceNodeRenderer({ sourceType: type });\n    return (\n      <div\n        className={styles.root}\n        onClick={this.onItemSelected}\n      >\n        <div className={styles.contactProfile}>\n          <div className={styles.avatarNodeContainer}>\n            <AvatarNode\n              name={name}\n              avatarUrl={profileImageUrl}\n            />\n          </div>\n          {\n            sourceNode\n              ? (\n                <div className={styles.sourceNodeContainer}>\n                  {sourceNode}\n                </div>\n              )\n              : null\n          }\n          {\n            presence ? (\n              <div className={styles.presenceNodeContainer}>\n                <PresenceStatusIcon\n                  className={styles.presenceNode}\n                  {...presence}\n                />\n              </div>\n            ) : null\n          }\n        </div>\n        <div className={styles.contactName} title={name}>\n          {name}\n        </div>\n        <div className={styles.phoneNumber} title={extensionNumber}>\n          {extensionNumber}\n        </div>\n      </div>\n    );\n  }\n}\n\nContactItem.propTypes = {\n  contact: PropTypes.shape({\n    id: PropTypes.string,\n    type: PropTypes.string,\n    name: PropTypes.string,\n    extensionNumber: PropTypes.string,\n    email: PropTypes.string,\n    profileImageUrl: PropTypes.string,\n    presence: PropTypes.object,\n  }).isRequired,\n  getAvatarUrl: PropTypes.func.isRequired,\n  getPresence: PropTypes.func.isRequired,\n  onSelect: PropTypes.func,\n  sourceNodeRenderer: PropTypes.func,\n};\n\nContactItem.defaultProps = {\n  onSelect: undefined,\n  sourceNodeRenderer: () => null,\n};\n"]}