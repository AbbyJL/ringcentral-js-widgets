{"version":3,"sources":["components/ContactItem/index.js"],"names":["AvatarNode","name","avatarUrl","avatarNode","propTypes","string","defaultProps","undefined","ContactItem","props","state","loading","onItemSelected","bind","_mounted","_loadingTimeout","setTimeout","setState","getAvatarUrl","contact","getPresence","clearTimeout","func","onSelect","root","extensionNumber","type","profileImageUrl","presence","sourceNodeRenderer","sourceNode","sourceType","contactProfile","avatarNodeContainer","sourceNodeContainer","presenceNodeContainer","presenceNode","contactName","phoneNumber","shape","id","hasProfileImage","bool","email","object","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;;;AAEA,SAASA,UAAT,OAAyC;AAAA,MAAnBC,IAAmB,QAAnBA,IAAmB;AAAA,MAAbC,SAAa,QAAbA,SAAa;;AACvC,SAAOA,YAEH;AACE,eAAW,iBAAOC,UADpB;AAEE,SAAKF,IAFP;AAGE,SAAKC;AAHP,IAFG,GASH;AACE,eAAW,iBAAOC;AADpB,IATJ;AAaD;AACDH,WAAWI,SAAX,GAAuB;AACrBH,QAAM,oBAAUI,MADK;AAErBH,aAAW,oBAAUG;AAFA,CAAvB;AAIAL,WAAWM,YAAX,GAA0B;AACxBL,QAAMM,SADkB;AAExBL,aAAWK;AAFa,CAA1B;;IAKqBC,W;;;AACnB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,gJACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,eAAS;AADE,KAAb;AAGA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AALiB;AAMlB;;;;wCAEmB;AAAA;;AAClB,WAAKC,QAAL,GAAgB,IAAhB;AACA,WAAKC,eAAL,GAAuBC,WAAW,YAAM;AACtC,YAAI,OAAKF,QAAT,EAAmB;AACjB,iBAAKG,QAAL,CAAc;AACZN,qBAAS;AADG,WAAd;AAGD;AACF,OANsB,EAMpB,CANoB,CAAvB;AAOA,WAAKF,KAAL,CAAWS,YAAX,CAAwB,KAAKT,KAAL,CAAWU,OAAnC;AACA,WAAKV,KAAL,CAAWW,WAAX,CAAuB,KAAKX,KAAL,CAAWU,OAAlC;AACD;;;2CAEsB;AACrB,WAAKL,QAAL,GAAgB,KAAhB;AACA,UAAI,KAAKC,eAAT,EAA0B;AACxBM,qBAAa,KAAKN,eAAlB;AACD;AACF;;;qCAEgB;AACf,UAAMO,OAAO,KAAKb,KAAL,CAAWc,QAAxB;AACA,UAAID,IAAJ,EAAU;AACRA,aAAK,KAAKb,KAAL,CAAWU,OAAhB;AACD;AACF;;;6BAEQ;AACP,UAAI,KAAKT,KAAL,CAAWC,OAAf,EAAwB;AACtB,eACE,uCAAK,WAAW,iBAAOa,IAAvB,GADF;AAGD;AALM,2BAYH,KAAKf,KAAL,CAAWU,OAZR;AAAA,UAOLlB,IAPK,kBAOLA,IAPK;AAAA,UAQLwB,eARK,kBAQLA,eARK;AAAA,UASLC,IATK,kBASLA,IATK;AAAA,UAULC,eAVK,kBAULA,eAVK;AAAA,UAWLC,QAXK,kBAWLA,QAXK;AAAA,UAcCC,kBAdD,GAcwB,KAAKpB,KAd7B,CAcCoB,kBAdD;;AAeP,UAAMC,aAAaD,mBAAmB,EAAEE,YAAYL,IAAd,EAAnB,CAAnB;AACA,aACE;AAAA;AAAA;AACE,qBAAW,iBAAOF,IADpB;AAEE,mBAAS,KAAKZ;AAFhB;AAIE;AAAA;AAAA,YAAK,WAAW,iBAAOoB,cAAvB;AACE;AAAA;AAAA,cAAK,WAAW,iBAAOC,mBAAvB;AACE,0CAAC,UAAD;AACE,oBAAMhC,IADR;AAEE,yBAAW0B;AAFb;AADF,WADF;AAQIG,uBAEI;AAAA;AAAA,cAAK,WAAW,iBAAOI,mBAAvB;AACGJ;AADH,WAFJ,GAMI,IAdR;AAiBIF,qBACE;AAAA;AAAA,cAAK,WAAW,iBAAOO,qBAAvB;AACE;AACE,yBAAW,iBAAOC;AADpB,eAEMR,QAFN;AADF,WADF,GAOI;AAxBR,SAJF;AA+BE;AAAA;AAAA,YAAK,WAAW,iBAAOS,WAAvB,EAAoC,OAAOpC,IAA3C;AACGA;AADH,SA/BF;AAkCE;AAAA;AAAA,YAAK,WAAW,iBAAOqC,WAAvB,EAAoC,OAAOb,eAA3C;AACGA;AADH;AAlCF,OADF;AAwCD;;;;;kBA5FkBjB,W;;;AA+FrBA,YAAYJ,SAAZ,GAAwB;AACtBe,WAAS,oBAAUoB,KAAV,CAAgB;AACvBC,QAAI,oBAAUnC,MADS;AAEvBqB,UAAM,oBAAUrB,MAFO;AAGvBoC,qBAAiB,oBAAUC,IAHJ;AAIvBzC,UAAM,oBAAUI,MAJO;AAKvBoB,qBAAiB,oBAAUpB,MALJ;AAMvBsC,WAAO,oBAAUtC,MANM;AAOvBsB,qBAAiB,oBAAUtB,MAPJ;AAQvBuB,cAAU,oBAAUgB;AARG,GAAhB,EASNC,UAVmB;AAWtB3B,gBAAc,oBAAUI,IAAV,CAAeuB,UAXP;AAYtBzB,eAAa,oBAAUE,IAAV,CAAeuB,UAZN;AAatBtB,YAAU,oBAAUD,IAbE;AActBO,sBAAoB,oBAAUP;AAdR,CAAxB;;AAiBAd,YAAYF,YAAZ,GAA2B;AACzBiB,YAAUhB,SADe;AAEzBsB,sBAAoB;AAAA,WAAM,IAAN;AAAA;AAFK,CAA3B","file":"index.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport PresenceStatusIcon from '../PresenceStatusIcon';\nimport DefaultAvatar from '../../assets/images/DefaultAvatar.svg';\n\nimport styles from './styles.scss';\n\nfunction AvatarNode({ name, avatarUrl }) {\n  return avatarUrl ?\n    (\n      <img\n        className={styles.avatarNode}\n        alt={name}\n        src={avatarUrl}\n      />\n    ) :\n    (\n      <DefaultAvatar\n        className={styles.avatarNode}\n      />\n    );\n}\nAvatarNode.propTypes = {\n  name: PropTypes.string,\n  avatarUrl: PropTypes.string,\n};\nAvatarNode.defaultProps = {\n  name: undefined,\n  avatarUrl: undefined,\n};\n\nexport default class ContactItem extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n    this.onItemSelected = this.onItemSelected.bind(this);\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    this._loadingTimeout = setTimeout(() => {\n      if (this._mounted) {\n        this.setState({\n          loading: false,\n        });\n      }\n    }, 3);\n    this.props.getAvatarUrl(this.props.contact);\n    this.props.getPresence(this.props.contact);\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    if (this._loadingTimeout) {\n      clearTimeout(this._loadingTimeout);\n    }\n  }\n\n  onItemSelected() {\n    const func = this.props.onSelect;\n    if (func) {\n      func(this.props.contact);\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className={styles.root} />\n      );\n    }\n    const {\n      name,\n      extensionNumber,\n      type,\n      profileImageUrl,\n      presence,\n    } = this.props.contact;\n\n    const { sourceNodeRenderer } = this.props;\n    const sourceNode = sourceNodeRenderer({ sourceType: type });\n    return (\n      <div\n        className={styles.root}\n        onClick={this.onItemSelected}\n      >\n        <div className={styles.contactProfile}>\n          <div className={styles.avatarNodeContainer}>\n            <AvatarNode\n              name={name}\n              avatarUrl={profileImageUrl}\n            />\n          </div>\n          {\n            sourceNode\n              ? (\n                <div className={styles.sourceNodeContainer}>\n                  {sourceNode}\n                </div>\n              )\n              : null\n          }\n          {\n            presence ? (\n              <div className={styles.presenceNodeContainer}>\n                <PresenceStatusIcon\n                  className={styles.presenceNode}\n                  {...presence}\n                />\n              </div>\n            ) : null\n          }\n        </div>\n        <div className={styles.contactName} title={name}>\n          {name}\n        </div>\n        <div className={styles.phoneNumber} title={extensionNumber}>\n          {extensionNumber}\n        </div>\n      </div>\n    );\n  }\n}\n\nContactItem.propTypes = {\n  contact: PropTypes.shape({\n    id: PropTypes.string,\n    type: PropTypes.string,\n    hasProfileImage: PropTypes.bool,\n    name: PropTypes.string,\n    extensionNumber: PropTypes.string,\n    email: PropTypes.string,\n    profileImageUrl: PropTypes.string,\n    presence: PropTypes.object,\n  }).isRequired,\n  getAvatarUrl: PropTypes.func.isRequired,\n  getPresence: PropTypes.func.isRequired,\n  onSelect: PropTypes.func,\n  sourceNodeRenderer: PropTypes.func,\n};\n\nContactItem.defaultProps = {\n  onSelect: undefined,\n  sourceNodeRenderer: () => null,\n};\n"]}