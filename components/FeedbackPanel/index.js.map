{"version":3,"sources":["components/FeedbackPanel/index.js"],"names":["FeedbackPanel","onRevertClick","props","onEmailChange","e","value","currentTarget","onTopicChange","option","idx","onSubjectChange","onDescriptionChange","onSendClick","currentLocale","SERVICE_MAIL","FEEDBACK_SUBJECT","content","brandName","email","topic","subject","description","mailToUrl","window","encodeURIComponent","sendFeedback","topicOptions","getString","selectedTopicIndex","findIndex","root","onBackClick","label","rightBtn","title","placement","onClick","instruction","select","textAreaField","textArea","bottom","sendButton","propTypes","string","isRequired","func"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport RevertBtn from '../../assets/images/Revert.svg';\nimport BackHeader from '../BackHeader';\nimport Panel from '../Panel';\nimport InputField from '../InputField';\nimport TextInput from '../TextInput';\nimport Select from '../DropdownSelect';\nimport Button from '../Button';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport default class FeedbackPanel extends Component {\n  onRevertClick = () => {\n    this.props.onRevertClick();\n  }\n  onEmailChange = (e) => {\n    const { value } = e.currentTarget;\n    this.props.onEmailChange(value);\n  }\n  onTopicChange = (option, idx) => {\n    this.props.onTopicChange(option);\n  }\n  onSubjectChange = (e) => {\n    const { value } = e.currentTarget;\n    this.props.onSubjectChange(value);\n  }\n  onDescriptionChange = (e) => {\n    const { value } = e.currentTarget;\n    this.props.onDescriptionChange(value);\n  }\n  onSendClick = () => {\n    const { currentLocale } = this.props;\n    const SERVICE_MAIL = 'integration.service@ringcentral.com';\n    const FEEDBACK_SUBJECT = 'Google User Feedback';\n\n    const content = `${'Hi Integration Team,\\n\\n' +\n      `You've got feedback from customer on ${this.props.brandName} for Google extension. This customer could be contacted via email `}${\n      `${this.props.email}\\n\\nCustomer Feedback Topic\\n${this.props.topic}\\n\\n`}Subject\\n${this.props.subject}\\n\\n` +\n      `Description\\n${this.props.description}\\n\\n` +\n      `Regards,\\n${this.props.brandName} for Google Extension`;\n    const mailToUrl = `mailto:${SERVICE_MAIL}?subject=${window.encodeURIComponent(FEEDBACK_SUBJECT)}&body=${window.encodeURIComponent(content)}`;\n    this.props.sendFeedback(mailToUrl);\n  }\n  render() {\n    const { currentLocale } = this.props;\n    this.topicOptions = [\n      i18n.getString('bugReport', currentLocale),\n      i18n.getString('featureRequest', currentLocale),\n      i18n.getString('others', currentLocale)\n    ];\n    const selectedTopicIndex =\n      this.topicOptions.findIndex(topic => topic === this.props.topic) > -1 ?\n        this.topicOptions.findIndex(topic => topic === this.props.topic) + 1 : -1;\n    return (\n      <div className={styles.root}>\n        <BackHeader\n          onBackClick={this.props.onBackClick}\n          buttons={[{\n            label: <RevertBtn className={styles.rightBtn} />,\n            title: i18n.getString('revert', currentLocale),\n            placement: 'right',\n            onClick: this.onRevertClick\n          }]}\n        >\n          {i18n.getString('feedbackHeader', currentLocale)}\n        </BackHeader>\n        <Panel className={styles.content}>\n          <div className={styles.instruction}>\n            <div>{i18n.getString('instruction', currentLocale)}</div>\n            <div>{i18n.getString('fillForm', currentLocale)}\n              <i>{i18n.getString('send', currentLocale)}</i>\n              {i18n.getString('useMailBox', currentLocale)}\n              <i>integration.service@ringcentral.com.</i>\n            </div>\n          </div>\n          <InputField\n            label={i18n.getString('email', currentLocale)}\n            labelHint={i18n.getString('reply', currentLocale)} >\n            <TextInput\n              placeholder={i18n.getString('emailPlaceHolder', currentLocale)}\n              value={this.props.email}\n              onChange={this.onEmailChange}\n              maxLength={60}\n            />\n          </InputField>\n          <InputField\n            label={i18n.getString('feedbackTopic', currentLocale)}>\n            <Select\n              className={styles.select}\n              value={`${selectedTopicIndex}`}\n              options={this.topicOptions}\n              dropdownAlign=\"left\"\n              placeholder={i18n.getString('topicPlaceHolder', currentLocale)}\n              onChange={this.onTopicChange}\n              renderValue={idx => this.topicOptions[idx - 1]}\n            />\n          </InputField>\n          <InputField\n            label={i18n.getString('subject', currentLocale)}>\n            <TextInput\n              placeholder={i18n.getString('subjectPlaceHolder', currentLocale)}\n              value={this.props.subject}\n              maxLength={60}\n              onChange={this.onSubjectChange}\n            />\n          </InputField>\n          <div className={styles.textAreaField}>\n            <div className={styles.label}>\n              {i18n.getString('description', currentLocale)}\n            </div>\n            <div className={styles.textArea}>\n              <textarea\n                placeholder={i18n.getString('descriptionPlaceHolder', currentLocale)}\n                value={this.props.description}\n                maxLength={1200}\n                onChange={this.onDescriptionChange}\n              />\n            </div>\n          </div>\n        </Panel>\n        <div className={styles.bottom}>\n          <Button\n            onClick={this.onSendClick}\n            className={styles.sendButton}\n          >\n            {i18n.getString('send', currentLocale)}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nFeedbackPanel.propTypes = {\n  brandName: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  onBackClick: PropTypes.func.isRequired,\n  onRevertClick: PropTypes.func.isRequired,\n  email: PropTypes.string.isRequired,\n  topic: PropTypes.string.isRequired,\n  subject: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  onEmailChange: PropTypes.func.isRequired,\n  onTopicChange: PropTypes.func.isRequired,\n  onSubjectChange: PropTypes.func.isRequired,\n  onDescriptionChange: PropTypes.func.isRequired,\n  sendFeedback: PropTypes.func.isRequired,\n};\n"]}