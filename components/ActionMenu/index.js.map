{"version":3,"sources":["components/ActionMenu/index.js"],"names":["ClickToDialButton","className","onClickToDial","disableLinks","disableClickToDial","phoneNumber","title","call","propTypes","string","func","bool","defaultProps","undefined","ClickToSmsButton","onClickToSms","composeText","ActionMenu","props","onCreateEnityModal","entityType","onCreateEntity","closeEntityModal","onCancelEntityModal","openEntityModal","setState","entityModalVisible","preventEventPropogation","e","target","currentTarget","stopPropagation","state","reference","currentLocale","onLog","isLogged","isLogging","isCreating","onViewEntity","hasEntity","addLogTitle","editLogTitle","callTitle","textTitle","createEntityTitle","viewEntityTitle","logButton","entityButton","entityModal","clickToDialButton","clickToSmsButton","extended","onToggle","extendIconClassName","isRequired"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport SlideMenu from '../SlideMenu';\nimport EntityButton from '../EntityButton';\nimport EntityModal from '../EntityModal';\nimport Button from '../Button';\nimport LogButton from '../LogButton';\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\n\nfunction ClickToDialButton({\n  className,\n  onClickToDial,\n  disableLinks,\n  disableClickToDial,\n  phoneNumber,\n  title,\n}) {\n  return (\n    <Button\n      className={className}\n      onClick={onClickToDial}\n      disabled={disableLinks || disableClickToDial || !phoneNumber} >\n      <span\n        className={dynamicsFont.call}\n        title={title} />\n    </Button>\n  );\n}\nClickToDialButton.propTypes = {\n  className: PropTypes.string,\n  onClickToDial: PropTypes.func,\n  disableLinks: PropTypes.bool,\n  disableClickToDial: PropTypes.bool,\n  phoneNumber: PropTypes.string,\n  title: PropTypes.string,\n};\nClickToDialButton.defaultProps = {\n  className: undefined,\n  onClickToDial: undefined,\n  disableLinks: false,\n  disableClickToDial: false,\n  phoneNumber: undefined,\n  title: undefined,\n};\n\nfunction ClickToSmsButton({\n  className,\n  onClickToSms,\n  disableLinks,\n  phoneNumber,\n  title,\n}) {\n  return (\n    <Button\n      className={className}\n      onClick={onClickToSms}\n      disabled={disableLinks || !phoneNumber} >\n      <span\n        className={dynamicsFont.composeText}\n        title={title} />\n    </Button>\n  );\n}\nClickToSmsButton.propTypes = {\n  className: PropTypes.string,\n  onClickToSms: PropTypes.func,\n  disableLinks: PropTypes.bool,\n  phoneNumber: PropTypes.string,\n};\nClickToSmsButton.defaultProps = {\n  className: undefined,\n  onClickToSms: undefined,\n  disableLinks: false,\n  phoneNumber: undefined,\n};\n\nexport default class ActionMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      entityModalVisible: false,\n    };\n  }\n  onCreateEnityModal = (entityType) => {\n    this.props.onCreateEntity(entityType);\n    this.closeEntityModal();\n  }\n  onCancelEntityModal = () => {\n    this.closeEntityModal();\n  }\n  openEntityModal = () => {\n    this.setState({\n      entityModalVisible: true\n    });\n  }\n  closeEntityModal = () => {\n    this.setState({\n      entityModalVisible: false\n    });\n  }\n\n  preventEventPropogation = (e) => {\n    if (e.target !== e.currentTarget) {\n      e.stopPropagation();\n    }\n  }\n\n  render() {\n    const {\n      reference,\n      className,\n      currentLocale,\n      onLog,\n      isLogged,\n      isLogging,\n      isCreating,\n      onViewEntity,\n      onCreateEntity,\n      hasEntity,\n      onClickToDial,\n      onClickToSms,\n      phoneNumber,\n      disableLinks,\n      disableClickToDial,\n      addLogTitle,\n      editLogTitle,\n      callTitle,\n      textTitle,\n      createEntityTitle,\n      viewEntityTitle,\n    } = this.props;\n\n    const logButton = onLog ?\n      (\n        <LogButton\n          onLog={onLog}\n          disableLinks={disableLinks}\n          isLogged={isLogged}\n          isLogging={isLogging}\n          currentLocale={currentLocale}\n          addTitle={addLogTitle}\n          editTitle={editLogTitle}\n        />\n      ) :\n      null;\n\n    let entityButton;\n    if (hasEntity && onViewEntity) {\n      entityButton = (<EntityButton\n        onViewEntity={onViewEntity}\n        hasEntity={hasEntity}\n        disableLinks={disableLinks}\n        viewEntityTitle={viewEntityTitle}\n      />);\n    } else if (!hasEntity && phoneNumber && onCreateEntity) {\n      entityButton = (<EntityButton\n        onCreateEntity={this.openEntityModal}\n        hasEntity={hasEntity}\n        disableLinks={disableLinks}\n        createEntityTitle={createEntityTitle}\n      />);\n    } else {\n      entityButton = null;\n    }\n\n    const entityModal = (!hasEntity && phoneNumber) ?\n      (<EntityModal\n        currentLocale={currentLocale}\n        show={this.state.entityModalVisible}\n        onCreate={this.onCreateEnityModal}\n        onCancel={this.onCancelEntityModal}\n      />\n      ) : null;\n\n\n    const clickToDialButton = onClickToDial ?\n      (\n        <ClickToDialButton\n          onClickToDial={onClickToDial}\n          phoneNumber={phoneNumber}\n          disableLinks={disableLinks}\n          disableClickToDial={disableClickToDial}\n          currentLocale={currentLocale}\n          title={callTitle}\n        />\n      ) :\n      null;\n    const clickToSmsButton = onClickToSms ?\n      (\n        <ClickToSmsButton\n          onClickToSms={onClickToSms}\n          phoneNumber={phoneNumber}\n          disableLinks={disableLinks}\n          currentLocale={currentLocale}\n          title={textTitle}\n        />\n      ) :\n      null;\n    return (\n      <div ref={reference}>\n        <SlideMenu\n          extended={this.props.extended}\n          onToggle={this.props.onToggle}\n          className={className}\n          extendIconClassName={this.props.extendIconClassName}\n          minHeight={0}\n          maxHeight={30}\n        >\n          <div onClick={this.preventEventPropogation}>\n            {clickToDialButton}\n            {clickToSmsButton}\n            {entityButton}\n            {logButton}\n          </div>\n        </SlideMenu>\n      </div>\n    );\n  }\n}\n\nActionMenu.propTypes = {\n  extended: PropTypes.bool,\n  onToggle: PropTypes.func,\n  reference: PropTypes.func,\n  className: PropTypes.string,\n  extendIconClassName: PropTypes.string,\n  currentLocale: PropTypes.string.isRequired,\n  onLog: PropTypes.func,\n  isLogged: PropTypes.bool,\n  isLogging: PropTypes.bool,\n  isCreating: PropTypes.bool,\n  onViewEntity: PropTypes.func,\n  onCreateEntity: PropTypes.func,\n  hasEntity: PropTypes.bool,\n  onClickToDial: PropTypes.func,\n  onClickToSms: PropTypes.func,\n  phoneNumber: PropTypes.string,\n  disableLinks: PropTypes.bool,\n  disableClickToDial: PropTypes.bool,\n  addLogTitle: PropTypes.string,\n  editLogTitle: PropTypes.string,\n  textTitle: PropTypes.string,\n  callTitle: PropTypes.string,\n  createEntityTitle: PropTypes.string,\n  viewEntityTitle: PropTypes.string,\n};\nActionMenu.defaultProps = {\n  extended: undefined,\n  onToggle: undefined,\n  reference: undefined,\n  className: undefined,\n  extendIconClassName: undefined,\n  onLog: undefined,\n  isLogged: false,\n  isLogging: false,\n  isCreating: false,\n  onViewEntity: undefined,\n  onCreateEntity: undefined,\n  hasEntity: false,\n  onClickToDial: undefined,\n  onClickToSms: undefined,\n  phoneNumber: undefined,\n  disableLinks: false,\n  disableClickToDial: false,\n  addLogTitle: undefined,\n  editLogTitle: undefined,\n  textTitle: undefined,\n  callTitle: undefined,\n  createEntityTitle: undefined,\n  viewEntityTitle: undefined,\n};\n"]}