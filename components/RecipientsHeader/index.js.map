{"version":3,"sources":["components/RecipientsHeader/index.js"],"names":["Recipient","props","recipient","onClick","name","propTypes","string","isRequired","func","RecipientList","recipients","className","map","receiver","context","getRecipientName","setDefaultRecipient","extensionNumber","phoneNumber","contextTypes","arrayOf","shape","RecipientsHeader","state","showDropdownList","toggleDropdown","hasDropdown","setState","preState","changeDefaultRecipient","length","defaultRecipient","dropdownList","dropdownClass","active","container","icon_dropdown_arrow","dropdownIcon"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PropTypes, Component } from 'react';\nimport classnames from 'classnames';\n\nimport rcFont from '../../assets/RcFont/RcFont.scss';\n\nimport styles from './styles.scss';\n\nfunction Recipient(props) {\n  return (\n    <a href=\"#recipient\" className={styles.recipient} onClick={props.onClick}>\n      {props.name}\n    </a>\n  );\n}\n\nRecipient.propTypes = {\n  name: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nfunction RecipientList(props) {\n  const recipients = this.props.recipients;\n  return (\n    <div className={props.className}>\n      {\n        recipients.map(receiver => (\n          <Recipient\n            key={JSON.stringify(receiver)}\n            name={this.context.getRecipientName(receiver)}\n            onClick={\n              () => this.props.setDefaultRecipient(\n                receiver.extensionNumber || receiver.phoneNumber\n              )\n            }\n          />\n        ))\n      }\n    </div>\n  );\n}\n\nRecipientList.contextTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n};\n\nRecipientList.propTypes = {\n  setDefaultRecipient: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  recipients: PropTypes.arrayOf(PropTypes.shape({\n    phoneNumber: PropTypes.string,\n    extensionNumber: PropTypes.string,\n    name: PropTypes.string,\n  })).isRequired,\n};\n\nclass RecipientsHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDropdownList: false,\n    };\n    this.toggleDropdown = () => {\n      if (!this.hasDropdown()) {\n        return;\n      }\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n    this.setDefaultRecipient = (phoneNumber) => {\n      this.context.changeDefaultRecipient(phoneNumber);\n      this.setState(preState => ({\n        showDropdownList: !preState.showDropdownList,\n      }));\n    };\n  }\n\n  hasDropdown() {\n    return this.props.recipients.length > 1;\n  }\n\n  render() {\n    const recipients = this.props.recipients;\n    const defaultRecipient = recipients[0];\n    let dropdownList = null;\n    const hasDropdown = this.hasDropdown();\n    if (hasDropdown) {\n      let dropdownClass = styles.dropdownList;\n      if (this.state.showDropdownList) {\n        dropdownClass = classnames(dropdownClass, styles.active);\n      }\n      dropdownList = (\n        <RecipientList\n          recipients={recipients}\n          className={dropdownClass}\n          setDefaultRecipient={this.setDefaultRecipient}\n        />\n      );\n    }\n    return (\n      <h1 className={styles.container}>\n        {\n          defaultRecipient &&\n          <Recipient\n            name={this.context.getRecipientName(defaultRecipient)}\n            onClick={this.toggleDropdown}\n          />\n        }\n        {\n          hasDropdown &&\n          <a\n            href=\"#recipients-dropdown\"\n            onClick={this.toggleDropdown}\n          >\n            <i className={classnames(rcFont.icon_dropdown_arrow, styles.dropdownIcon)} />\n          </a>\n        }\n        {dropdownList}\n      </h1>\n    );\n  }\n}\n\nRecipientsHeader.propTypes = {\n  recipients: RecipientList.propTypes.recipients,\n};\n\nRecipientsHeader.contextTypes = {\n  getRecipientName: PropTypes.func.isRequired,\n  changeDefaultRecipient: PropTypes.func.isRequired,\n};\n\nexport default RecipientsHeader;\n"]}