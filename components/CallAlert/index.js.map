{"version":3,"sources":["components/CallAlert/index.js"],"names":["CallAlert","TELUS_ID","message","payload","brand","onAreaCodeLinkClick","currentLocale","id","specialNumber","phoneNumber","getString","noAreaCode","areaCode","areaCodeLink","e","preventDefault","propTypes","func","shape","string","isRequired","object","defaultProps","undefined","handleMessage","noToNumber","connectFailed","internalError","notAnExtension","networkError","noRingoutEnable"],"mappings":";;;;;kBAOwBA,S;;AAPxB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMC,WAAW,MAAjB;AACe,SAASD,SAAT,OAQZ;AAAA,0BAPDE,OAOC;AAAA,MANCA,OAMD,gBANCA,OAMD;AAAA,MALCC,OAKD,gBALCA,OAKD;AAAA,MAHDC,KAGC,QAHDA,KAGC;AAAA,MAFDC,mBAEC,QAFDA,mBAEC;AAAA,MADDC,aACC,QADDA,aACC;;AACD;AACA;AACA,MACEF,SAASA,MAAMG,EAAN,KAAaN,QAAtB,IACAC,YAAY,qBAAWM,aADvB,IAEAL,OAFA,IAEWA,QAAQM,WAAR,KAAwB,KAHrC,EAIE;AACA,WAAQ;AAAA;AAAA;AAAO,qBAAKC,SAAL,CAAe,UAAf,EAA2BJ,aAA3B;AAAP,KAAR;AACD;AACD,MAAIJ,YAAY,qBAAWS,UAA3B,EAAuC;AACrC,QAAMC,WAAW,eAAKF,SAAL,CAAe,UAAf,EAA2BJ,aAA3B,CAAjB;AACA,QAAMO,eAAeR,sBAEjB;AAAA;AAAA;AACE,iBAAS,iBAACS,CAAD,EAAO;AACdA,YAAEC,cAAF;AACAV;AACD,SAJH;AAKGO;AALH,KAFiB,GAUnBA,QAVF;AAWA,WACE;AACE,eAAS,eAAKF,SAAL,CAAeR,OAAf,EAAwBI,aAAxB,CADX;AAEE,cAAQ,EAAEO,0BAAF,EAFV,GADF;AAKD;AACD,SACE;AAAA;AAAA;AAAO,mBAAKH,SAAL,CAAeR,OAAf,EAAwBI,aAAxB;AAAP,GADF;AAGD;;AAEDN,UAAUgB,SAAV,GAAsB;AACpBX,uBAAqB,oBAAUY,IADX;AAEpBf,WAAS,oBAAUgB,KAAV,CAAgB;AACvBhB,aAAS,oBAAUiB,MAAV,CAAiBC;AADH,GAAhB,EAENA,UAJiB;AAKpBhB,SAAO,oBAAUiB,MAAV,CAAiBD,UALJ;AAMpBd,iBAAe,oBAAUa,MAAV,CAAiBC;AANZ,CAAtB;AAQApB,UAAUsB,YAAV,GAAyB;AACvBjB,uBAAqBkB;AADE,CAAzB;;AAIAvB,UAAUwB,aAAV,GAA0B;AAAA,MAAGtB,OAAH,SAAGA,OAAH;AAAA,SACxBA,YAAY,qBAAWuB,UAAvB,IACAvB,YAAY,qBAAWS,UADvB,IAEAT,YAAY,qBAAWM,aAFvB,IAGAN,YAAY,qBAAWwB,aAHvB,IAIAxB,YAAY,qBAAWyB,aAJvB,IAKAzB,YAAY,qBAAW0B,cALvB,IAMA1B,YAAY,qBAAW2B,YANvB,IAOA3B,YAAY,qBAAW4B,eARC;AAAA,CAA1B","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport callErrors from 'ringcentral-integration/modules/Call/callErrors';\nimport FormattedMessage from '../FormattedMessage';\nimport i18n from './i18n';\n\nconst TELUS_ID = '7310';\nexport default function CallAlert({\n  message: {\n    message,\n    payload,\n  },\n  brand,\n  onAreaCodeLinkClick,\n  currentLocale,\n}) {\n  // If brand is Telus and special number is 911,\n  // show messages of its own version.\n  if (\n    brand && brand.id === TELUS_ID &&\n    message === callErrors.specialNumber &&\n    payload && payload.phoneNumber === '911'\n  ) {\n    return (<span>{i18n.getString('telus911', currentLocale)}</span>);\n  }\n  if (message === callErrors.noAreaCode) {\n    const areaCode = i18n.getString('areaCode', currentLocale);\n    const areaCodeLink = onAreaCodeLinkClick ?\n      (\n        <a\n          onClick={(e) => {\n            e.preventDefault();\n            onAreaCodeLinkClick();\n          }} >\n          {areaCode}\n        </a>\n      ) :\n      areaCode;\n    return (\n      <FormattedMessage\n        message={i18n.getString(message, currentLocale)}\n        values={{ areaCodeLink }} />\n    );\n  }\n  return (\n    <span>{i18n.getString(message, currentLocale)}</span>\n  );\n}\n\nCallAlert.propTypes = {\n  onAreaCodeLinkClick: PropTypes.func,\n  message: PropTypes.shape({\n    message: PropTypes.string.isRequired,\n  }).isRequired,\n  brand: PropTypes.object.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n};\nCallAlert.defaultProps = {\n  onAreaCodeLinkClick: undefined\n};\n\nCallAlert.handleMessage = ({ message }) => (\n  message === callErrors.noToNumber ||\n  message === callErrors.noAreaCode ||\n  message === callErrors.specialNumber ||\n  message === callErrors.connectFailed ||\n  message === callErrors.internalError ||\n  message === callErrors.notAnExtension ||\n  message === callErrors.networkError ||\n  message === callErrors.noRingoutEnable\n);\n"]}