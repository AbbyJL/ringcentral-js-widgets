{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/scripts/component.js","src/scripts/helpers/call-log-service.js","src/scripts/helpers/helper.js","src/scripts/helpers/login-service.js","src/scripts/helpers/phone-service.js","src/scripts/helpers/rc-sdk.js","src/scripts/helpers/rc-webphone.js","src/scripts/index.js","src/scripts/w.js"],"names":[],"mappings":"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","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function register(globalSettings) {\r\n    /*\r\n     *\r\n     * [register process]\r\n     *\r\n     * generate actions _____\r\n     *                       |----> generate document --> [before, init, after] ----> generate handlers\r\n     * fetch template   _____|                                                  ----> maybe [before, render, after]\r\n     *\r\n     */\r\n    globalSettings = Object.assign({\r\n        actions: {},\r\n        handlers: {}\r\n    }, globalSettings);\r\n\r\n    var Widget = function(options) {\r\n        var options = Object.assign({\r\n            actions: {},\r\n            handlers: {}\r\n        }, options);\r\n        var settings = {\r\n            // For deep copy\r\n            actions: Object.assign({}, globalSettings.actions),\r\n            handlers: Object.assign({}, globalSettings.handlers)\r\n        }\r\n        if (!options.template) {\r\n            throw new Error('need a template');\r\n        }\r\n        this.props = {};\r\n        Object.keys(settings.actions).forEach(index => {\r\n            settings.actions[index] = bindScope(this, settings.actions[index]);\r\n        })\r\n        Object.keys(settings.handlers).forEach(index => {\r\n            settings.handlers[index] = bindScope(this, settings.handlers[index]);\r\n        })\r\n        Object.keys(options.actions).forEach(index => {\r\n            options.actions[index] = bindScope(this, options.actions[index]);\r\n        })\r\n        Object.keys(options.handlers).forEach(index => {\r\n            options.handlers[index] = bindScope(this, options.handlers[index]);\r\n        })\r\n        Object.keys(settings.actions).forEach(index => {\r\n            this[index] =\r\n                generateActions(settings.actions[index], options.actions[index], index /* for debug */ );\r\n        })\r\n        this.render =\r\n            generateActions({\r\n                before: settings.actions.render.before,\r\n                method: render.bind(this, settings.actions.render.method),\r\n                after: settings.actions.render.after\r\n            }, options.actions.render, 'render')\r\n\r\n        function render(widgetRender, finish, target, callback) {\r\n            if (typeof target === 'string') {\r\n                target = document.querySelector(target);\r\n            } else if (target instanceof HTMLElement) {\r\n                target = target;\r\n            } else {\r\n                console.warn('first argument of render method should be selector string or dom');\r\n            }\r\n            target.appendChild(this.props.template);\r\n            callback && typeof callback === 'function' && callback();\r\n            if (widgetRender && typeof widgetRender === 'function')\r\n                return widgetRender.call(this, finish);\r\n        }\r\n        this.props.dom = generateDocument(this, options.template);\r\n        this.props.template = options.template;\r\n        // init\r\n        this.init();\r\n        var handlers = settings.handlers;\r\n        if (handlers) {\r\n            Object.keys(handlers).forEach(index => {\r\n                options.handlers[index].method.call(\r\n                    this,\r\n                    generateHandlers(settings.handlers[index])\r\n                );\r\n            })\r\n        }\r\n    };\r\n    return Widget;\r\n}\r\n\r\nfunction bindScope(scope, action) {\r\n    return {\r\n        before: action.before ? action.before.bind(scope) : function() {}.bind(scope),\r\n        method: action.method ? action.method.bind(scope) : function() {}.bind(scope),\r\n        after: action.after ? action.after.bind(scope) : function() {}.bind(scope)\r\n    }\r\n}\r\n\r\nfunction generateDocument(widget, template) {\r\n    var dom = {};\r\n    [].forEach.call(template.querySelectorAll('[data-info]'), doc => {\r\n        var info = doc.getAttribute('data-info');\r\n        dom[info] = doc;\r\n    });\r\n    [].forEach.call(template.querySelectorAll('[data-event]'), doc => {\r\n        var events = doc.getAttribute('data-event');\r\n        // TODO: proper error messages\r\n        events.split('|').forEach(event => {\r\n            var eventName;\r\n            var action;\r\n            event.split(':').forEach((token, index) => {\r\n                if (index === 0)\r\n                    eventName = token;\r\n                else if (index === 1)\r\n                    action = token;\r\n            })\r\n            if (!widget[action]) {\r\n                console.warn('No such method:' + action + ' in ' + events + ', check data-event and widget methods definition');\r\n                return;\r\n            }\r\n            doc.addEventListener(eventName, widget[action].bind(widget));\r\n        })\r\n    })\r\n    return dom;\r\n}\r\n\r\nfunction generateActions(widgetAction, userAction, name) {\r\n    if (!userAction) {\r\n        userAction = {\r\n            before: function() {},\r\n            method: function() {},\r\n            after: function() {}\r\n        };\r\n        console.warn('Widget action [%s] is not defined by users', name);\r\n    }\r\n    return function(...args) {\r\n        console.info('[%s][before](' + [].concat(...args) + ')', name);\r\n        return Promise.resolve(wrapUserEvent(widgetAction.before, userAction.before, ...args))\r\n            .then(function(arg) {\r\n                console.info('[%s][method](' + (typeof arg === 'function' ? arg() : arg) + ')', name);\r\n                if (typeof arg === 'function') {\r\n                    return widgetAction.method(userAction.method, ...arg()) || arg;\r\n                }\r\n                return widgetAction.method(userAction.method, arg) || arg;\r\n            })\r\n            .then(function(arg) {\r\n                console.info('[%s][after](' + (typeof arg === 'function' ? arg() : arg) + ')', name);\r\n                if (typeof arg === 'function') {\r\n                    return wrapUserEvent(widgetAction.after, userAction.after, ...arg()) || arg;\r\n                }\r\n                return wrapUserEvent(widgetAction.after, userAction.after, arg) || arg;\r\n            })\r\n            .catch(err => console.error(err.stack));\r\n    }\r\n}\r\n\r\nfunction generateHandlers(widgetHandler) {\r\n    return function(...args) {\r\n        return Promise.resolve(wrapUserEvent(widgetHandler.before, widgetHandler.before, ...args))\r\n            .then(function(arg) {\r\n                if (typeof arg === 'function') {\r\n                    return widgetHandler.method(...arg()) || arg;\r\n                }\r\n                return widgetAction.method(arg) || arg;\r\n            })\r\n            .then(function(arg) {\r\n                if (typeof arg === 'function') {\r\n                    return widgetHandler.after(...arg()) || arg;\r\n                }\r\n                return widgetHandler.after(arg) || arg;\r\n            })\r\n            .catch(err => console.error(err.stack));\r\n    }\r\n}\r\n\r\nfunction wrapUserEvent(widget, user, ...args) {\r\n    var continueDefault = !user || user() || true;\r\n    if (continueDefault ||\r\n        typeof continueDefault === 'undefined' ||\r\n        continueDefault) {\r\n        if (widget) {\r\n            return widget(...args) || (() => args);\r\n        }\r\n        return null;\r\n    }\r\n    return [].concat(...args);\r\n}\r\n\r\nexport default register;\r\n","import sdk from './rc-sdk'\r\n\r\nvar CallLogService = (function(sdk){\r\n    return {\r\n        \r\n        getCallLogs:function(){\r\n            \r\n            return sdk.platform()\r\n                .get('/account/~/extension/~/call-log', { dateFrom:'2016-2-28' })\r\n                .then(response => {\r\n                    return response.json().records;\r\n                })\r\n                .catch(function(e) {\r\n                    console.error('Recent Calls Error: ' + e.message);\r\n                });\r\n            \r\n        } \r\n    };\r\n    \r\n})(sdk);\r\n\r\nexport default CallLogService;","var sdk = new RingCentral.SDK({\r\n    appKey: 'eac8797af1b3502F2CEAAEECAC3Ed378AA7858A386656f28A008b0c638A754B1',\r\n    appSecret: 'c082702E4ea4DA18c4b1377917778a8aafabCA3Be579B78B66d17C36874b27F4',\r\n    server: RingCentral.SDK.server.production\r\n});\r\nvar webPhone = new RingCentral.WebPhone({\r\n    audioHelper: {\r\n        incoming: '../demo/audio/incoming.ogg',\r\n        outgoing: '../demo/audio/outgoing.ogg'\r\n    }\r\n});;\r\nvar rcHelper = function(sdk, webPhone) {\r\n    var line;\r\n    var handlers = {\r\n        called: [],\r\n        callStarted: [],\r\n        callRejected: [],\r\n        callEnded: [],\r\n        callFailed: []\r\n    };\r\n    return {\r\n        login: function(props) {\r\n            var dom = props.dom;\r\n            return sdk.platform()\r\n                .login({\r\n                    username: dom.username.value,\r\n                    extension: dom.extension.value,\r\n                    password: dom.password.value\r\n                })\r\n                .then(() => registerSIP())\r\n\r\n            function registerSIP() {\r\n                return sdk.platform()\r\n                    .post('/client-info/sip-provision', {\r\n                        sipInfo: [{\r\n                            transport: 'WSS'\r\n                        }]\r\n                    })\r\n                    .then(res => {\r\n                        var data = res.json();\r\n                        console.log(\"Sip Provisioning Data from RC API: \" + JSON.stringify(data));\r\n                        console.log(data.sipFlags.outboundCallsEnabled);\r\n                        var checkFlags = false;\r\n                        return webPhone.register(data, checkFlags)\r\n                            .then(function() {\r\n                                console.log('Registered');\r\n                            })\r\n                            .catch(function(e) {\r\n                                return Promise.reject(err);\r\n                            });\r\n\r\n                    }).catch(e => console.error(e));\r\n            }\r\n        },\r\n        callout: function(props) {\r\n            console.log('user callout');\r\n            var toNumber = props.toNumber;\r\n            var fromNumber = props.fromNumber;\r\n\r\n            // TODO: validate toNumber and fromNumber\r\n            if (!sdk || !webPhone) {\r\n                throw Error('Need to set up SDK and webPhone first.');\r\n                return;\r\n            }\r\n            return sdk.platform()\r\n                .get('/restapi/v1.0/account/~/extension/~')\r\n                .then(res => {\r\n                    console.log(res);\r\n                    var info = res.json();\r\n                    if (info && info.regionalSettings && info.regionalSettings.homeCountry) {\r\n                        return info.regionalSettings.homeCountry.id;\r\n                    }\r\n                    return null;\r\n                })\r\n                .then(countryId => {\r\n                    webPhone.call(toNumber, fromNumber, countryId);\r\n                })\r\n                .catch(e => console.error(e));\r\n        },\r\n        answer: function(props) {\r\n            return webPhone\r\n                .answer(line)\r\n                .catch(function(e) { console.error(e) });\r\n        },\r\n        ignore: function(props) {},\r\n        cancel: function(props) {\r\n            return line\r\n                .cancel()\r\n                .catch(function(e) { console.error(e) });\r\n        },\r\n        hangup: function(props) {\r\n            return webPhone\r\n                .hangup(line)\r\n                .catch(err => console.error(err));\r\n        },\r\n        record: function(props) {},\r\n        hold: function(props) {},\r\n        mute: function(props) {},\r\n        called: function(handler) {\r\n            handlers.called.push(handler);\r\n        },\r\n        callStarted: function(handler) {\r\n            handlers.callStarted.push(handler);\r\n        },\r\n        callRejected: function(handler) {\r\n            handlers.callRejected.push(handler);\r\n        },\r\n        callEnded: function(handler) {\r\n            handlers.callEnded.push(handler);\r\n        },\r\n        callFailed: function(handler) {\r\n            handlers.callFailed.push(handler);\r\n        },\r\n        initPhoneListener: function(props) {\r\n            webPhone.ua.on('sipIncomingCall', e => {\r\n                console.log(handlers);\r\n                line = e;\r\n                handlers.called.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callStarted', e => {\r\n                console.log(handlers);\r\n                console.log(this);\r\n                handlers.callStarted.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callRejected', e => {\r\n                console.log(handlers);\r\n                handlers.callRejected.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callEnded', e => {\r\n                console.log(handlers);\r\n                handlers.callEnded.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callFailed', e => {\r\n                console.log(handlers);\r\n                handlers.callFailed.forEach(h => h(e));\r\n            });\r\n        },\r\n        getCandidates: function(props) {\r\n            // FIXME: because of nested component\r\n            var prefix = props.autoComplete.props.prefix;\r\n            var test = ['111', '222', '333'];\r\n            return test.filter(item => item.indexOf(prefix) === 0);\r\n        }\r\n    }\r\n}(sdk, webPhone);\r\nexport default rcHelper;\r\n","import sdk from './rc-sdk'\r\n\r\nvar LoginService = function(sdk){\r\n    \r\n    var onLoginHandler = [];\r\n    \r\n    return {\r\n        \r\n        login:function(username, extension, password){\r\n            console.log('LoginService -> start login');\r\n            return sdk.platform()\r\n                .login({\r\n                    'username': username,\r\n                    'extension': extension,\r\n                    'password': password\r\n                }).then(\r\n                    function(){\r\n                        onLoginHandler.forEach(handler => handler());\r\n                    }\r\n                );\r\n        },\r\n        \r\n        checkLoginStatus:function(){\r\n          \r\n            return sdk.platform().loggedIn().then(\r\n                function(isLoggedIn){\r\n                    if(isLoggedIn){\r\n                        onLoginHandler.forEach(handler => handler());\r\n                    }\r\n                    return isLoggedIn;\r\n                }  \r\n            );\r\n            \r\n        },\r\n        \r\n        registerLoginHandler:function(handler){\r\n            onLoginHandler.push(handler);\r\n        }\r\n        \r\n    }\r\n    \r\n}(sdk);\r\n\r\nexport default LoginService","import sdk from './rc-sdk'\r\nimport webPhone from './rc-webphone'\r\nimport LoginService from './login-service'\r\n\r\n\r\nvar PhoneService = function(){\r\n    var line;\r\n    var handlers = {\r\n        called: [],\r\n        callStarted: [],\r\n        callRejected: [],\r\n        callEnded: [],\r\n        callFailed: []\r\n    };\r\n    \r\n    return {\r\n        \r\n        registerSIP: function() {\r\n            return sdk.platform()\r\n                .post('/client-info/sip-provision', {\r\n                    sipInfo: [{\r\n                        transport: 'WSS'\r\n                    }]\r\n                })\r\n                .then(res => {\r\n                    var data = res.json();\r\n                    console.log(\"Sip Provisioning Data from RC API: \" + JSON.stringify(data));\r\n                    console.log(data.sipFlags.outboundCallsEnabled);\r\n                    var checkFlags = false;\r\n                    return webPhone.register(data, checkFlags)\r\n                        .then(function() {\r\n                            console.log('Registered');\r\n                        })\r\n                        .catch(function(e) {\r\n                            return Promise.reject(err);\r\n                        });\r\n\r\n                }).catch(e => console.error(e));\r\n        },\r\n        \r\n        callout: function(fromNumber, toNumber) {\r\n            console.log('user callout');\r\n\r\n            // TODO: validate toNumber and fromNumber\r\n            if (!sdk || !webPhone) {\r\n                throw Error('Need to set up SDK and webPhone first.');\r\n                return;\r\n            }\r\n            return sdk.platform()\r\n                .get('/restapi/v1.0/account/~/extension/~')\r\n                .then(res => {\r\n                    console.log(res);\r\n                    var info = res.json();\r\n                    if (info && info.regionalSettings && info.regionalSettings.homeCountry) {\r\n                        return info.regionalSettings.homeCountry.id;\r\n                    }\r\n                    return null;\r\n                })\r\n                .then(countryId => {\r\n                    webPhone.call(toNumber, fromNumber, countryId);\r\n                })\r\n                .catch(e => console.error(e));\r\n        },\r\n        answer: function(props) {\r\n            return webPhone\r\n                .answer(line)\r\n                .catch(function(e) { console.error(e) });\r\n        },\r\n        ignore: function(props) {},\r\n        cancel: function(props) {\r\n            return line\r\n                .cancel()\r\n                .catch(function(e) { console.error(e) });\r\n        },\r\n        hangup: function(props) {\r\n            return webPhone\r\n                .hangup(line)\r\n                .catch(err => console.error(err));\r\n        },\r\n        called: function(handler) {\r\n            handlers.called.push(handler);\r\n        },\r\n        callStarted: function(handler) {\r\n            handlers.callStarted.push(handler);\r\n        },\r\n        callRejected: function(handler) {\r\n            handlers.callRejected.push(handler);\r\n        },\r\n        callEnded: function(handler) {\r\n            handlers.callEnded.push(handler);\r\n        },\r\n        callFailed: function(handler) {\r\n            handlers.callFailed.push(handler);\r\n        },\r\n        initPhoneListener: function(props) {\r\n            webPhone.ua.on('sipIncomingCall', e => {\r\n                console.log(handlers);\r\n                line = e;\r\n                handlers.called.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callStarted', e => {\r\n                console.log(handlers);\r\n                console.log(this);\r\n                handlers.callStarted.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callRejected', e => {\r\n                console.log(handlers);\r\n                handlers.callRejected.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callEnded', e => {\r\n                console.log(handlers);\r\n                handlers.callEnded.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callFailed', e => {\r\n                console.log(handlers);\r\n                handlers.callFailed.forEach(h => h(e));\r\n            });\r\n        },\r\n        \r\n    };\r\n    \r\n    \r\n}();\r\n\r\nexport default PhoneService","var sdk = new RingCentral.SDK({\r\n    appKey: '8mOtYiilT5OUPwwdeGgvpw',\r\n    appSecret: 'cqNn89RmR2SR76Kpp8xJaAdNzNOqR8Qfmjb0B-gDOHTw',\r\n    server: RingCentral.SDK.server.production\r\n});\r\n\r\nexport default sdk;","var webPhone = new RingCentral.WebPhone({\r\n    audioHelper: {\r\n        \r\n    }\r\n});\r\n\r\nexport default webPhone;","// import AuthPanel from './components/auth-panel'\r\n// import CallPanel from './components/call-panel'\r\n// import DialPad from './components/dial-pad'\r\n// import CallLog from './components/call-log'\r\n// import CallLogItem from './components/call-log-item'\r\n// import AutoComplete from './components/auto-complete'\r\nimport rcHelper from './helpers/helper'\r\nimport sdk from './helpers/rc-sdk'\r\nimport webPhone from './helpers/rc-webphone'\r\nimport LoginService from './helpers/login-service'\r\nimport CallLogService from './helpers/call-log-service'\r\nimport PhoneService from './helpers/phone-service'\r\nimport w from './w'\r\n\r\n// window.AuthPanel = AuthPanel;\r\n// window.CallPanel = CallPanel;\r\n// window.DialPad = DialPad;\r\n// window.CallLog = CallLog;\r\n// window.CallLogItem = CallLogItem\r\n// window.AutoComplete = AutoComplete;\r\nwindow.rcHelper = rcHelper;\r\nwindow.sdk = sdk;\r\nwindow.webPhone = webPhone;\r\nwindow.LoginService = LoginService;\r\nwindow.CallLogService = CallLogService;\r\nwindow.PhoneService = PhoneService;\r\nwindow.w = w;\r\nexport {\r\n    // AuthPanel,\r\n    // CallPanel,\r\n    // DialPad,\r\n    // CallLog,\r\n    // CallLogItem,\r\n    // AutoComplete,\r\n    rcHelper,\r\n    sdk,\r\n    webPhone,\r\n    LoginService,\r\n    CallLogService,\r\n    PhoneService\r\n}\r\n","import register from './component'\r\n\r\nfunction fetchWidget(name) {\r\n    // TODO: check cache\r\n    return fetch(w.options.path + name + '.html')\r\n        .then(response => response.text())\r\n        .then(body => {\r\n            var template = document.createElement('template');\r\n            template.innerHTML = body;\r\n            var clone = document.importNode(template.content, true);\r\n            return clone;\r\n        })\r\n        .then(clone => {\r\n            return parseDocument(clone);\r\n        })\r\n        .then(template => {\r\n            w.templates[name].template = template;\r\n            // FIXME: script position and be inserted multiple times\r\n            var script = template.querySelector('script');\r\n            document.body.appendChild(script);\r\n        })\r\n}\r\n\r\nfunction parseDocument(template) {\r\n    var docs = template.querySelectorAll('*');\r\n    var nestedFetch = Array.from(docs).reduce((aggr, doc) => {\r\n        if (doc.tagName.indexOf('-') > -1 /* WebComponent spec */ || doc instanceof HTMLUnknownElement) {\r\n            // custom element\r\n            aggr.push(w(doc.localName).then(widget => {\r\n                // TODO: may 'customize' custom elements\r\n                // var div = document.createElement('div');\r\n                widget.render(doc);\r\n                // doc.parentNode.insertBefore(div, doc.nextSibling);\r\n            }));\r\n\r\n        }\r\n        return aggr;\r\n    }, [])\r\n    return Promise.all(nestedFetch).then(() => template); // we don't care about nested template return value, but template\r\n}\r\n\r\nfunction w(name, options) {\r\n    options = options || {};\r\n    if (!w.templates[name]) {\r\n        w.templates[name] = {};\r\n    }\r\n    if (!w.templates[name].fetch) {\r\n        w.templates[name].fetch = fetchWidget(name);\r\n    }\r\n    // w.templates[name].fetch = fetchWidget(name);\r\n    return w.templates[name].fetch\r\n        .then(() => {\r\n            return new w.templates[name].widget({\r\n                template: w.templates[name].template.cloneNode(true),\r\n                actions: options.actions || {},\r\n                handlers: options.handlers || {},\r\n            })\r\n        })\r\n        .catch(err => console.error(err));\r\n}\r\nw.templates = {};\r\nw.options = {\r\n    path: '/template/'\r\n}\r\nw.register = function(setting) {\r\n    Object.keys(w.templates).forEach(index => {\r\n        var template = w.templates[index];\r\n        if (template.template && !template.widget)\r\n            template.widget = register(setting);\r\n    })\r\n};\r\nw.config = function(options) {\r\n    w.options = Object.assign(w.options, options);\r\n};\r\nw.preload = function() {}\r\n\r\n// setting custom elements when registering widgets\r\nw.custom = function() {}\r\nexport default w;\r\n"]}