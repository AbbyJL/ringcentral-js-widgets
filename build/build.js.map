{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/scripts/component.js","src/scripts/index.js","src/scripts/service.js","src/scripts/services/account-service.js","src/scripts/services/call-log-service.js","src/scripts/services/contact-search-service.js","src/scripts/services/contact-service.js","src/scripts/services/login-service.js","src/scripts/services/phone-service.js","src/scripts/services/rc-contact-search-provider.js","src/scripts/services/rc-contact-service.js","src/scripts/services/rc-sdk.js","src/scripts/services/rc-webphone.js","src/scripts/w.js"],"names":[],"mappings":"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","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function register(globalSettings) {\r\n    globalSettings = Object.assign({\r\n        actions: {},\r\n        handlers: {}\r\n    }, globalSettings);\r\n    ['init', 'render', 'remove', 'error'].forEach(action => {\r\n        globalSettings.actions[action] = Object.assign({\r\n            before: function() {},\r\n            method: function() {},\r\n            after: function() {},\r\n            error: function(e) {\r\n                console.error(e);\r\n                throw e;\r\n            }\r\n        }, globalSettings.actions[action]);\r\n    });\r\n    var Widget = function(options) {\r\n        var options = Object.assign({\r\n            actions: {},\r\n            handlers: {}\r\n        }, options);\r\n        var settings = {\r\n            // For deep copy\r\n            actions: Object.assign({}, globalSettings.actions),\r\n            handlers: Object.assign({}, globalSettings.handlers)\r\n        };\r\n        if (!options.template) {\r\n            throw new Error('need a template');\r\n        }\r\n        logger = initLogger(options.logLevel);\r\n        this.props = {};\r\n        this.custom = {};\r\n        Object.keys(settings.actions).forEach(index => {\r\n            settings.actions[index] = bindScope(this, settings.actions[index]);\r\n        });\r\n        Object.keys(options.actions).forEach(index => {\r\n            options.actions[index] = bindScope(this, options.actions[index]);\r\n        });\r\n        Object.keys(settings.actions).forEach(index => {\r\n            this[index] =\r\n                generateActions(settings.actions[index], options.actions[index], index);\r\n        });\r\n        this.props.dom = generateDocument(this, options.template);\r\n        this.props.template = options.template;\r\n        this.render =\r\n            generateActions({\r\n                before: settings.actions.render.before,\r\n                method: render.bind(this, settings.actions.render.method, this.props.template),\r\n                after: settings.actions.render.after\r\n            }, options.actions.render, 'render');\r\n        this.remove =\r\n            generateActions({\r\n                before: settings.actions.remove.before,\r\n                method: remove.bind(this, settings.actions.remove.method),\r\n                after: settings.actions.remove.after\r\n            }, options.actions.remove, 'remove');\r\n        this.init();\r\n\r\n        function remove(widgetRemove) {\r\n            while (this.props.target.firstChild)\r\n                this.props.target.removeChild(this.props.target.firstChild);\r\n        }\r\n\r\n        function render(widgetRender, template, finish, target, callback) {\r\n            if (typeof target === 'string') {\r\n                target = document.querySelector(target);\r\n            } else if (target instanceof HTMLElement) {\r\n                target = target;\r\n            } else {\r\n                logger.warn('first argument of render method should be selector string or dom');\r\n            }\r\n            target.appendChild(template);\r\n            this.props.target = target;\r\n            callback && typeof callback === 'function' && callback();\r\n            if (widgetRender && typeof widgetRender === 'function')\r\n                return widgetRender.call(this, finish);\r\n        }\r\n    };\r\n    return Widget;\r\n}\r\n\r\nfunction bindScope(scope, action) {\r\n    return {\r\n        before: action.before ? action.before.bind(scope) : function() {}.bind(scope),\r\n        method: action.method ? action.method.bind(scope) : function() {}.bind(scope),\r\n        after: action.after ? action.after.bind(scope) : function() {}.bind(scope),\r\n        error: action.error ? action.error.bind(scope) : function(err) {\r\n            logger.error(err);\r\n        }.bind(scope)\r\n    };\r\n}\r\n\r\nfunction generateDocument(widget, template) {\r\n    var dom = {};\r\n    [].forEach.call(template.querySelectorAll('[data-info]'), doc => {\r\n        var info = doc.getAttribute('data-info');\r\n        dom[info] = doc;\r\n    });\r\n    [].forEach.call(template.querySelectorAll('[data-event]'), doc => {\r\n        var events = doc.getAttribute('data-event');\r\n        // TODO: proper error messages\r\n        events.split('|').forEach(event => {\r\n            var eventName;\r\n            var action;\r\n            event.split(':').forEach((token, index) => {\r\n                if (index === 0)\r\n                    eventName = token;\r\n                else if (index === 1)\r\n                    action = token;\r\n            });\r\n            if (!widget[action]) {\r\n                logger.warn('No such method:' + action + ' in ' + events + ', check data-event and widget methods definition');\r\n                return;\r\n            }\r\n            doc.addEventListener(eventName, widget[action].bind(widget));\r\n        });\r\n    });\r\n    return dom;\r\n}\r\n\r\nfunction generateActions(widgetAction, userAction, name) {\r\n    if (!userAction) {\r\n        userAction = {\r\n            before: function() {},\r\n            method: function() {},\r\n            after: function() {},\r\n            error: function(e) {\r\n                logger.error(e);\r\n                throw e;\r\n            }\r\n        };\r\n        logger.warn('Widget action [%s] is not defined by users', name);\r\n    }\r\n    return function(...args) {\r\n        var before = function(...args) {\r\n            logger.info('[%s][before](' + [].concat(...args) + ')', name);\r\n            return wrapUserEvent(widgetAction.before, userAction.before, ...args);\r\n        };\r\n        var method = function(arg) {\r\n            logger.info('[%s][method](' + (typeof arg === 'function' ? arg() : arg) + ')', name);\r\n            if (typeof arg === 'function') {\r\n                return widgetAction.method(userAction.method, ...arg()) || arg;\r\n            }\r\n            return widgetAction.method(userAction.method, arg) || arg;\r\n        };\r\n        var after = function(arg) {\r\n            logger.info('[%s][after](' + (typeof arg === 'function' ? arg() : arg) + ')', name);\r\n            if (typeof arg === 'function') {\r\n                return wrapUserEvent(widgetAction.after, userAction.after, ...arg()) || arg;\r\n            }\r\n            return wrapUserEvent(widgetAction.after, userAction.after, arg) || arg;\r\n        };\r\n        var error = function(e) {\r\n            return wrapUserEvent(widgetAction.error, userAction.error, e);\r\n        };\r\n        var finish = function(arg) {\r\n            if (typeof arg === 'function') {\r\n                // flatten one level\r\n                return [].concat.apply([], arg());\r\n            }\r\n            return arg;\r\n        };\r\n        try {\r\n            before = before(...args);\r\n            if (isThenable(before)) {\r\n                return before.then(function(...args) {\r\n                    return method(arg);\r\n                }).then(function(arg) {\r\n                    return after(arg);\r\n                }).then(function(arg) {\r\n                    return finish(arg);\r\n                }).catch(error);\r\n            } else {\r\n                method = method(before);\r\n                if (isThenable(method)) {\r\n                    return method.then(function(arg) {\r\n                        return after(arg);\r\n                    }).then(function(arg) {\r\n                        return finish(arg);\r\n                    }).catch(error);\r\n                } else {\r\n                    after = after(method);\r\n                    if (isThenable(after)) {\r\n                        return after.then(function(arg) {\r\n                            return finish(arg);\r\n                        }).catch(error);\r\n                    } else {\r\n                        return finish(after);\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n    };\r\n}\r\n\r\nfunction wrapUserEvent(widget, user, ...args) {\r\n    var continueDefault = !user || user(...args) || true;\r\n    if (continueDefault || typeof continueDefault === 'undefined')\r\n        return widget(...args) || (() => args);\r\n    return [].concat(...args);\r\n}\r\n\r\nfunction isThenable(result) {\r\n    if (result.then && typeof result.then === 'function')\r\n        return true;\r\n    return false;\r\n}\r\n\r\nfunction initLogger(level) {\r\n    return {\r\n        error: function(...args) {\r\n            console.error(...args);\r\n        },\r\n        warn: function(...args) {\r\n            if (level > 0)\r\n                console.warn(...args);\r\n        },\r\n        info: function(...args) {\r\n            if (level > 1)\r\n                console.info(...args);\r\n        },\r\n        log: function(...args) {\r\n            if (level > 1)\r\n                console.log(...args);\r\n        }\r\n    };\r\n}\r\nvar logger;\r\nexport { register };\r\n","import LoginService from './services/login-service';\r\nimport CallLogService from './services/call-log-service';\r\nimport PhoneService from './services/phone-service';\r\nimport rcContactService from './services/rc-contact-service';\r\nimport contactService from './services/contact-service';\r\nimport contactSearchService from './services/contact-search-service';\r\nimport rcContactSearchProvider from './services/rc-contact-search-provider';\r\nimport accountService from './services/account-service';\r\nimport w from './w';\r\n// development only\r\nwindow.w = w;\r\nexport default w;\r\n","var services = {};\r\nfunction register(name, service) {\r\n    console.log(name);\r\n    services[name] = service;\r\n}\r\nfunction getService() {\r\n    return services;\r\n}\r\nexport {\r\n    register,\r\n    getService\r\n};\r\n","import sdk from './rc-sdk';\r\nimport { register } from '../service';\r\nvar accountService = (function(sdk) {\r\n    var info;\r\n    var numbers;\r\n    return {\r\n        getAccountInfo: function() {\r\n            return sdk.platform()\r\n                .get('/account/~/extension/~')\r\n                .then(response => {\r\n                    console.debug(response.json());\r\n                    info = response.json();\r\n                    return info;\r\n                })\r\n                .catch(function(e) {\r\n                    console.error('Recent Calls Error: ' + e.message);\r\n                });\r\n        },\r\n\r\n        getPhoneNumber: function() {\r\n            return sdk.platform()\r\n                .get('/account/~/extension/~/phone-number')\r\n                .then(response => {\r\n                    console.debug(response.json());\r\n\r\n                    // info = response.json();\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n                    numbers = data.records;\r\n                    return data.records;\r\n                })\r\n                .catch(function(e) {\r\n                    console.error('Recent Calls Error: ' + e.message);\r\n                });\r\n        },\r\n\r\n        hasServiceFeature: function(name) {\r\n            if (!info)\r\n                return Error('Need to fetch account info by accountService.getAccountInfo');\r\n            return info.serviceFeatures\r\n                .filter(feature => feature.featureName.toLowerCase() === name.toLowerCase())\r\n                .length > 0;\r\n        },\r\n\r\n        listNumber: function(type) {\r\n            console.debug(numbers);\r\n            return numbers\r\n            .filter(number => number.type === type)\r\n            .map(number => number.phoneNumber);\r\n        },\r\n    };\r\n})(sdk);\r\n\r\nregister('accountService', accountService);\r\nexport default accountService;\r\n","import sdk from './rc-sdk';\r\nimport { register } from '../service';\r\nvar CallLogService = (function(sdk) {\r\n    var period = 7 * 24 * 3600 * 1000;\r\n    var dateFrom = new Date(Date.now() - (period));\r\n    return {\r\n        getCallLogs: function() {\r\n            return sdk.platform()\r\n                .get('/account/~/extension/~/call-log', {dateFrom: dateFrom.toISOString()})\r\n                .then(response => {\r\n                    return response.json().records;\r\n                })\r\n                .catch(function(e) {\r\n                    console.error('Recent Calls Error: ' + e.message);\r\n                });\r\n        },\r\n    };\r\n})(sdk);\r\n\r\nregister('callLogService', CallLogService);\r\nexport default CallLogService;\r\n","import { register } from '../service';\r\nvar contactSearchService = (function() {\r\n    var searchProviders = [];\r\n    var queryCompletedHandlers = [];\r\n    return {\r\n        addSearchProvider: function(searchProvider) {\r\n            if (typeof searchProvider.search  !== 'function') {\r\n                console.error('SearchProvider is invalid!');\r\n            }else {\r\n                searchProviders.push(searchProvider);\r\n            }\r\n        },\r\n\r\n        onQueryCompleted: function(handler) {\r\n            queryCompletedHandlers.push(handler);\r\n        },\r\n\r\n        query: function(text) {\r\n            var searchFunctions = searchProviders.map(provider => {\r\n                return provider.search(text);\r\n            });\r\n            Promise.all(searchFunctions).then(results => {\r\n                var searchResultsKeys = {};\r\n                var searchResults = [];\r\n                results.forEach(result => {\r\n                    result.forEach(item => {\r\n                        var key = item.name + item.value;\r\n                        if(!searchResultsKeys[key]){\r\n                            var toAddItem = {\r\n                                name: item.name,\r\n                                value: item.value,\r\n                                type: item.type,\r\n                            };\r\n                            searchResultsKeys[key] = toAddItem;\r\n                            searchResults.push(toAddItem);\r\n                        }\r\n                    });\r\n                });\r\n                queryCompletedHandlers.forEach(h => h(searchResults));\r\n            });\r\n        },\r\n    };\r\n})();\r\nregister('contactSearchService', contactSearchService);\r\nexport default contactSearchService;\r\n","import { register } from '../service';\r\n\r\nvar contactService = function() {\r\n\r\n    var keysToSet = ['type', 'firstName', 'lastName', 'middleName', 'company'];\r\n\r\n    function Contact(type) {\r\n\r\n        this.type = type;\r\n\r\n        this.uri = null;\r\n        this.id = null;\r\n        this.trackingId = null;\r\n        this.availability = null;\r\n        this.firstName = null;\r\n        this.lastName = null;\r\n        this.middleName = null;\r\n        this.nickName = null;\r\n        this.company = null;\r\n        this.jobTitle = null;\r\n\r\n        this.extensionNumber = null;\r\n\r\n        this.phoneNumber = [];\r\n        this.phoneNumberType = {};\r\n\r\n        this.email = null;\r\n        this.email2 = null;\r\n        this.email3 = null;\r\n\r\n        this.homeAddress = null;\r\n        this.businessAddress = null;\r\n        this.otherAddress = null;\r\n\r\n        this.avatarUrl = null;\r\n    }\r\n\r\n    function createContact(rawContactsObj) {\r\n        var contact = {};\r\n\r\n        contact = Object.assign(contact, rawContactsObj);\r\n\r\n        return contact;\r\n    }\r\n\r\n    return {\r\n\r\n        contacts: [],\r\n\r\n        search: function(queryText) {\r\n\r\n        },\r\n\r\n        addNewContacts: function(rawContactsObj) {\r\n            var contactObj = createContact(rawContactsObj);\r\n            this.contacts.push(contactObj);\r\n        },\r\n    };\r\n\r\n}();\r\n\r\nregister('contactService', contactService);\r\nexport default contactService;\r\n","import sdk from './rc-sdk';\r\nimport { register } from '../service';\r\nvar LoginService = function(sdk) {\r\n    var onLoginHandler = [];\r\n    return {\r\n        login: function(username, extension, password) {\r\n            console.log('LoginService -> start login');\r\n            return sdk.platform()\r\n                .login({\r\n                    'username': username,\r\n                    'extension': extension,\r\n                    'password': password\r\n                }).then(function() {\r\n                    onLoginHandler.forEach(handler => handler());\r\n                }).catch(err => console.error(err));\r\n        },\r\n        checkLoginStatus: function() {\r\n            return sdk.platform().loggedIn().then(function(isLoggedIn) {\r\n                if (isLoggedIn) {\r\n                    onLoginHandler.forEach(handler => handler());\r\n                }\r\n                return isLoggedIn;\r\n            });\r\n        },\r\n        registerLoginHandler: function(handler) {\r\n            onLoginHandler.push(handler);\r\n        }\r\n    };\r\n}(sdk);\r\nregister('loginService', LoginService);\r\n","import sdk from './rc-sdk';\r\nimport webPhone from './rc-webphone';\r\nimport { register } from '../service';\r\n\r\nvar PhoneService = function() {\r\n    var line;\r\n    var handlers = {\r\n        called: [],\r\n        callStarted: [],\r\n        callRejected: [],\r\n        callEnded: [],\r\n        callFailed: []\r\n    };\r\n    return {\r\n        registerSIP: function() {\r\n            return sdk.platform()\r\n                .post('/client-info/sip-provision', {\r\n                    sipInfo: [{\r\n                        transport: 'WSS'\r\n                    }]\r\n                })\r\n                .then(res => {\r\n                    return webPhone.register(res.json(), false)\r\n                        .catch(function(e) {\r\n                            return Promise.reject(err);\r\n                        });\r\n                });\r\n        },\r\n        callout: function(fromNumber, toNumber) {\r\n            // TODO: validate toNumber and fromNumber\r\n            if (!sdk || !webPhone) {\r\n                throw Error('Need to set up SDK and webPhone first.');\r\n                return;\r\n            }\r\n            return sdk.platform()\r\n                .get('/restapi/v1.0/account/~/extension/~')\r\n                .then(res => {\r\n                    var info = res.json();\r\n                    if (info && info.regionalSettings && info.regionalSettings.homeCountry) {\r\n                        return info.regionalSettings.homeCountry.id;\r\n                    }\r\n                    return null;\r\n                })\r\n                .then(countryId => {\r\n                    webPhone.call(toNumber, fromNumber, countryId);\r\n                });\r\n        },\r\n        answer: function() {\r\n            return webPhone\r\n                .answer(line);\r\n        },\r\n        ignore: function() {},\r\n        cancel: function() {\r\n            return line\r\n                .cancel();\r\n        },\r\n        hangup: function() {\r\n            return webPhone\r\n                .hangup(line);\r\n        },\r\n        on: function(name, handler) {\r\n            handlers[name].push(handler);\r\n        },\r\n        listen: function() {\r\n            webPhone.ua.on('incomingCall', e => {\r\n                line = e;\r\n                handlers.called.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callStarted', e => {\r\n                handlers.callStarted.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callRejected', e => {\r\n                handlers.callRejected.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callEnded', e => {\r\n                handlers.callEnded.forEach(h => h(e));\r\n            });\r\n            webPhone.ua.on('callFailed', e => {\r\n                handlers.callFailed.forEach(h => h(e));\r\n            });\r\n        },\r\n    };\r\n}();\r\nregister('phoneService', PhoneService);\r\n","import rcContactService from './rc-contact-service';\r\nimport { register } from '../service';\r\nvar rcContactSearchProvider = function() {\r\n    return {\r\n        search: function(text) {\r\n            var results = [];\r\n            if (text) {\r\n                text = text.toLowerCase();\r\n                rcContactService.companyContacts.map(contact => {\r\n                    if (contact.displayName && contact.displayName.toLowerCase().indexOf(text) >= 0){\r\n                        results.push({\r\n                            name: contact.displayName,\r\n                            value: contact.extension,\r\n                            type: 'rc',\r\n                            id: contact.id,\r\n                        });\r\n                        contact.phoneNumber.forEach(phone => {\r\n                            results.push({\r\n                                name: contact.displayName,\r\n                                value: phone,\r\n                                type: 'rc',\r\n                                id: contact.id,\r\n                            });\r\n                        });\r\n                    } else {\r\n                        if (contact.extension && contact.extension.indexOf(text) >= 0) {\r\n                            results.push({\r\n                                name: contact.displayName,\r\n                                value: contact.extension,\r\n                                type: 'rc',\r\n                                id: contact.id,\r\n                            });\r\n                        }\r\n\r\n                        contact.phoneNumber.forEach(phone => {\r\n                            if (phone.indexOf(text) >= 0) {\r\n                                results.push({\r\n                                    name: contact.displayName,\r\n                                    value: phone,\r\n                                    type: 'rc',\r\n                                    id: contact.id,\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n            return results;\r\n        },\r\n    };\r\n}();\r\n\r\nregister('rcContactSearchProvider', rcContactSearchProvider);\r\nexport default rcContactSearchProvider;\r\n","import sdk from './rc-sdk';\r\nimport { register } from '../service';\r\nimport contactService from './contact-service';\r\n\r\nvar rcContactService = function(sdk, contactService) {\r\n    var companyContacts = [];\r\n\r\n    function Contact() {\r\n        this.firstName = null;\r\n        this.lastName = null;\r\n        this.displayName = null;\r\n        this.extension = null;\r\n        this.phoneNumber = [];\r\n    }\r\n\r\n    function createContact(extension) {\r\n        var contact = new Contact();\r\n        contact.extension = extension.extensionNumber;\r\n        contact.firstName = extension.contact.firstName;\r\n        contact.lastName = extension.contact.lastName;\r\n        contact.displayName = contact.firstName + ' ' + contact.lastName;\r\n        contact.type = 'rc';\r\n        contact.id  = extension.id;\r\n        return contact;\r\n    }\r\n\r\n    function fetchCompanyContactByPage(page) {\r\n        return sdk.platform().get('/account/~/extension/', {perPage: 250, page: page});\r\n    }\r\n\r\n    function fetchCompanyDirectNumbersByPage(page) {\r\n        return sdk.platform().get('/account/~/phone-number', {perPage: 250, page: page});\r\n    }\r\n\r\n    function fetchCompanyContacts() {\r\n        var page = 1;\r\n        fetchCompanyContactByPage(page)\r\n        .then(function(response) {\r\n            var respObj = response.json();\r\n            if (respObj.paging && respObj.paging.totalPages > page) {\r\n                var promises = [];\r\n                while (respObj.paging.totalPages > page) {\r\n                    page++;\r\n                    promises.push(fetchCompanyContactByPage(page));\r\n                }\r\n\r\n                Promise.all(promises).then(responses=> {\r\n                    responses.forEach(function(response) {\r\n                        var records = response.json().records\r\n                            .filter(extension => {\r\n                                return extension.status === 'Enabled' && ['DigitalUser', 'User'].indexOf(extension.type) >= 0;\r\n                            }).map(extension => {\r\n                                return createContact(extension);\r\n                            });\r\n                        companyContacts.push.apply(companyContacts, records);\r\n                    });\r\n\r\n                    fetchCompanyDirectNumbers();\r\n                });\r\n            }\r\n        }).catch(function(e) {\r\n            console.error(e);\r\n        });\r\n    }\r\n\r\n    function fetchCompanyDirectNumbers() {\r\n        var page = 1;\r\n        fetchCompanyDirectNumbersByPage(page)\r\n        .then(response => {\r\n            var respObj = response.json();\r\n            if (respObj.paging && respObj.paging.totalPages > page) {\r\n                var promises = [];\r\n                while (respObj.paging.totalPages > page) {\r\n                    page++;\r\n                    promises.push(fetchCompanyDirectNumbersByPage(page));\r\n                }\r\n\r\n                Promise.all(promises).then(responses => {\r\n                    var numbers = {};\r\n                    responses.forEach(response => {\r\n                        var resp = response.json();\r\n                        resp.records.forEach(el => {\r\n                            if (el.extension && el.extension.extensionNumber) {\r\n                                if (!numbers[el.extension.extensionNumber]) {\r\n                                    numbers[el.extension.extensionNumber] = [];\r\n                                }\r\n\r\n                                numbers[el.extension.extensionNumber].push(el);\r\n                            }\r\n                        });\r\n                    });\r\n                    companyContacts.forEach(contact => {\r\n                        var phones = numbers[contact.extension];\r\n                        if (phones) {\r\n                            phones.forEach(phone => {\r\n                                contact.phoneNumber.push(phone.phoneNumber);\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        companyContacts: companyContacts,\r\n        getCompanyContact: function() {\r\n            fetchCompanyContacts();\r\n        },\r\n    };\r\n}(sdk, contactService);\r\n\r\nregister('rcContactService', rcContactService);\r\nexport default rcContactService;\r\n","var sdk = new RingCentral.SDK({\r\n    appKey: '8mOtYiilT5OUPwwdeGgvpw',\r\n    appSecret: 'cqNn89RmR2SR76Kpp8xJaAdNzNOqR8Qfmjb0B-gDOHTw',\r\n    server: RingCentral.SDK.server.production\r\n});\r\n\r\nexport default sdk;\r\n","var webPhone = new RingCentral.WebPhone({\r\n    audioHelper: {}\r\n});\r\n\r\nexport default webPhone;\r\n","import { register as registerComponent } from './component';\r\nimport { getService } from './service';\r\n\r\nfunction fetchWidget(filePath) {\r\n    return fetch(w.options.path + filePath + (filePath.endsWith('.html') ? '' : '.html'))\r\n        .then(response => response.text())\r\n        .then(body => {\r\n            var template = document.createElement('template');\r\n            template.innerHTML = body;\r\n            var clone = document.importNode(template.content, true);\r\n            return clone;\r\n        });\r\n}\r\n\r\nfunction parseDocument(template) {\r\n    var docs = template.querySelectorAll('*');\r\n    return Promise.all(Array.from(docs).reduce(\r\n        (result, doc) => {\r\n            if (doc.localName.indexOf('-') > -1 || doc instanceof HTMLUnknownElement) {\r\n                var temp = {};\r\n                temp[doc.localName] = doc.localName;\r\n                return result.concat(preload(temp));\r\n            }\r\n            return result;\r\n        }, []));\r\n}\r\n\r\nfunction initNestedWidget(widget) {\r\n    var template = widget.props.template;\r\n    var docs = template.querySelectorAll('*');\r\n    Array.from(docs).forEach(doc => {\r\n        if (doc.localName.indexOf('-') > -1 || doc instanceof HTMLUnknownElement) {\r\n            if (typeof doc.getAttribute('dynamic') !== 'undefine' && doc.getAttribute('dynamic') !== null) {\r\n                return;\r\n            }\r\n            var child = w(doc.localName, widget.custom[doc.localName]);\r\n            child.render(doc);\r\n            // FIXME: When multiple child element, has problems\r\n            var childName = doc.getAttribute('data-info');\r\n            if (childName)\r\n                widget.props[childName] = child;\r\n        }\r\n    });\r\n}\r\n\r\nfunction preload(widgets, callback) {\r\n    return Promise.all(\r\n        Object.keys(widgets).reduce(\r\n            (result, name) => {\r\n                if (!w.templates[name]) {\r\n                    w.templates[name] = {};\r\n                }\r\n                if (!w.templates[name].fetch) {\r\n                    w.templates[name].fetch = fetchWidget(widgets[name]);\r\n                }\r\n                return result.concat(\r\n                    w.templates[name].fetch\r\n                    .then(template => {\r\n                        if (!w.templates[name].template) {\r\n                            w.templates[name].template = template;\r\n                            // FIXME: script position\r\n                            var script = template.querySelector('script');\r\n                            document.body.appendChild(script);\r\n                            return template;\r\n                        }\r\n                    })\r\n                    .then(parseDocument)\r\n                    .catch(err => console.error('Widgets preload error:' + err)));\r\n            }, [])\r\n    ).then(callback);\r\n}\r\n\r\n// Public API\r\nfunction w(name, options) {\r\n    options = options || {};\r\n    var baseWidget;\r\n    if (!w.templates[name] || !w.templates[name].widget) {\r\n        throw Error('you need to preload widget:' + name + ' before init it');\r\n    }\r\n    baseWidget = new w.templates[name].widget({\r\n        template: w.templates[name].template.cloneNode(true),\r\n        actions: options.actions || {},\r\n        handlers: options.handlers || {},\r\n        logLevel: w.options.logLevel\r\n    });\r\n    initNestedWidget(baseWidget);\r\n    // initWidget(baseWidget).forEach(child => {\r\n    //     baseWidget.props[child.name] = child.widget;\r\n    // });\r\n    return baseWidget;\r\n}\r\nw.templates = {};\r\nw.options = {};\r\nw.register = function(constructor) {\r\n    var settings = new constructor();\r\n    Object.keys(w.templates).forEach(index => {\r\n        var template = w.templates[index];\r\n        if (template.template && !template.widget)\r\n            template.widget = registerComponent(settings);\r\n    });\r\n};\r\nw.config = function(options, callback) {\r\n    // w.options = Object.assign(w.options, options);\r\n    w.options.preload = options.preload || {};\r\n    w.options.path = options.path || '';\r\n    w.options.logLevel = options.logLevel || 0;\r\n    preload(w.options.preload, callback);\r\n};\r\nw.customize = function(context, target, options) {\r\n    context.custom[target] = options;\r\n};\r\nw.service = getService;\r\n\r\nexport default w;\r\n"]}