{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/component.js","src/components/auth-panel.js","src/components/call-log.js","src/components/call-panel.js","src/components/dial-pad.js","src/helper.js","src/index.js"],"names":[],"mappings":"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","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var Component = function(options) {\n    if (!options.template) {\n        // TODO: maybe use default template\n        throw new Error('need specifiy a template');\n    }\n    // TODO: use Object.extend or somewhat (es6) for default option setting\n    this.options = options || {};\n    this.props = {};\n    this.fetchPromise = null;\n    this.bindHandlers(options.handlers);\n    this.beforeUpdate('mount');\n    this.fetchTemplate(options.template)\n        .then(template => this.bindDOM(template))\n        .then(template => this.afterUpdate('mount'))\n        .catch(err => console.error(err.stack))\n\n};\nComponent.prototype.bindHandlers = function(handlers) {\n    if (handlers) {\n        Object.keys(handlers).forEach(index => {\n            var method = handlers[index];\n            method(this[method.name]);\n        })\n    }\n};\nComponent.prototype.fetchTemplate = function(src) {\n    this.fetchPromise = fetch(src)\n        .then(response => response.text())\n        .then(body => {\n            var template = document.createElement('template');\n            template.innerHTML = body;\n            var clone = document.importNode(template.content, true);\n            return clone;\n        })\n        .catch(err => console.error(err.stack))\n    return this.fetchPromise;\n};\nComponent.prototype.bindDOM = function(template) {\n    this.props.dom = {};\n    [].forEach.call(template.querySelectorAll('[data-info]'), doc => {\n        var info = doc.getAttribute('data-info');\n        this.props.dom[info] = doc;\n    });\n    [].forEach.call(template.querySelectorAll('[data-action]'), doc => {\n        var event = doc.getAttribute('data-event');\n        var action = doc.getAttribute('data-action');\n        doc.addEventListener(event, this[action].bind(this));\n    })\n    return template;\n}\nComponent.prototype.beforeUpdate = function(action) {\n    if (this.options.beforeUpdate)\n        return this.options.beforeUpdate(action, this.props);\n    return true;\n};\nComponent.prototype.afterUpdate = function(action) {\n    if (this.options.afterUpdate)\n        return this.options.afterUpdate(action, this.props);\n    return true;\n};\nComponent.prototype.remove = function() {\n    while (this.props.targetDOM.firstChild) {\n        this.props.targetDOM.removeChild(this.props.targetDOM.firstChild);\n    }\n};\nComponent.prototype.render = function(target, callback) {\n    if (this.fetchPromise)\n        return this.fetchPromise\n            .then(template => {\n                if (typeof target === 'string') {\n                    target = document.querySelector(target);\n                } else if (target instanceof HTMLElement) {\n                    target = target;\n                } else {\n                    console.warn('first argument of render method should be selector string or dom');\n                }\n                this.props.targetDOM = target;\n                this.props.targetDOM.appendChild(template);\n            })\n            .then(() => {\n                if (callback && typeof callback === 'function')\n                    callback.call(this);\n            })\n            .catch(err => console.error('render err:' + err));\n};\n\nfunction register(settings) {\n    var beforeUpdate = settings.beforeUpdate;\n    var afterUpdate = settings.afterUpdate;\n    var methods = settings.methods;\n    \n    var Widget = function(options) {\n        Component.call(this, options);\n        Object.keys(methods).forEach(index => {\n            var method = methods[index];\n            Widget.prototype[method.name] = function(...args) {\n                this.beforeUpdate(method.name);\n                Promise.resolve(method.call(this, options.actions[method.name], ...args))\n                    .then(() => this.afterUpdate(method.name))\n                    .catch(err => console.error(err.stack));\n            };\n        })\n    };\n    Widget.prototype = Object.create(Component.prototype);\n    Widget.prototype.constructor = Widget;\n    Widget.prototype.beforeUpdate = function(action, props) {\n        var defaultAction = Component.prototype.beforeUpdate.call(this, action, props);\n        if (defaultAction) {\n            settings.beforeUpdate.call(this, action, props);\n        }\n    };\n    Widget.prototype.afterUpdate = function(action, props) {\n        var defaultAction = Component.prototype.afterUpdate.call(this, action, props);\n        if (defaultAction) {\n            settings.afterUpdate.call(this, action, props);\n        }\n    };\n    return Widget;\n}\nexport {\n    Component,\n    register\n};\n","import { Component, register } from '../component'\n\nvar AuthPanel = register({\n    beforeUpdate: function(action, props) {\n        if (action === 'login') {\n            this.props.dom.login.disabled = true;\n            this.props.dom.error.textContent = '';\n            this.interval = loading(this.props.dom.login, 'login');\n        }\n    },\n    afterUpdate: function(action, props) {\n        if (action === 'mount') {\n            this.props.dom.key.value = localStorage.getItem('key');\n            this.props.dom.secret.value = localStorage.getItem('secret');\n            this.props.dom.username.value = localStorage.getItem('username');\n            this.props.dom.extension.value = localStorage.getItem('extension');\n            this.props.dom.password.value = localStorage.getItem('password');\n        } else if (action === 'login') {\n            this.props.dom.login.disabled = false;\n            // stop loading animation\n            if (this.interval) {\n                this.interval.cancel();\n                this.interval = null;\n            }\n            localStorage.setItem('server', this.props.dom.server.value || '');\n            localStorage.setItem('key', this.props.dom.key.value || '');\n            localStorage.setItem('secret', this.props.dom.secret.value || '');\n            localStorage.setItem('username', this.props.dom.username.value || '');\n            localStorage.setItem('extension', this.props.dom.extension.value || '');\n            localStorage.setItem('password', this.props.dom.password.value || '');\n        }\n    },\n    methods: {\n        login: function(finish) {\n            return finish(this.props);\n        },\n\n    }\n});\n\nfunction loading(target, text) {\n    var dotCount = 1;\n    var interval = window.setInterval(() => {\n        var dot = '';\n        var dotCountTmp = dotCount;\n        while (dotCount--)\n            dot += '.';\n        target.textContent = text + dot;\n        dotCount = (dotCountTmp + 1) % 4;\n    }, 500)\n    return {\n        cancel: function(text) {\n            if (interval) {\n                window.clearInterval(interval);\n                interval = null;\n                if (typeof text !== 'undefined')\n                    target.textContent = text;\n            }\n        }\n    }\n}\n\nexport default AuthPanel;\n","import { register, Component } from '../component'\n// prototypal inheritance, please see: \n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\nvar CallLog = function(options) {\n    Component.call(this, options);\n};\nCallLog.prototype = Object.create(Component.prototype);\nCallLog.prototype.constructor = CallLog;\n\nCallLog.prototype.beforeUpdate = function(action, props) {\n    var defaultAction = Component.prototype.beforeUpdate.call(this, action, props);\n    if (defaultAction) {\n        if (action === 'getLog') {\n            this.interval = this.loading(this.dom.message, 'Loading call log')\n        }\n    }\n};\nCallLog.prototype.afterUpdate = function(action, props) {\n    var defaultAction = Component.prototype.afterUpdate.call(this, action, props);\n    if (defaultAction) {\n        if (action === 'mount') {\n            this.getLog(1, 10);\n        } else if (action === 'getLog') {\n            // var log = this.props.records;\n            // var item = new CallLogItem();\n            // ...\n            if (this.interval) {\n                this.interval.cancel('');\n                this.interval = null;\n            }\n        }\n    }\n};\nCallLog.prototype.getLog = function(page, number) {\n    if (this.options.actions && this.options.actions.getLog) {\n        this.beforeUpdate.bind(this, 'getLog')\n        return this.sdk.platform()\n            .get('/account/~/extension/~/call-log', { page: page, perPage: number })\n            .then(response => {\n                this.props.records = response.json().records;\n            })\n            .then(this.afterUpdate.bind(this, 'getLog'))\n            .catch(function(e) {\n                console.error('Recent Calls Error: ' + e.message);\n            });\n    }\n};\nCallLog.prototype.loading = function(target, text) {\n    var dotCount = 1;\n    var interval = window.setInterval(() => {\n        var dot = '';\n        var dotCountTmp = dotCount;\n        while (dotCount--)\n            dot += '.';\n        target.textContent = text + dot;\n        dotCount = (dotCountTmp + 1) % 4;\n    }, 500)\n    return {\n        cancel: function(text) {\n            if (interval) {\n                window.clearInterval(interval);\n                interval = null;\n                if (typeof text !== 'undefined')\n                    target.textContent = text;\n            }\n        }\n    }\n};\n","import { register, Component } from '../component'\n\nvar state;\nvar CallPanel = register({\n    beforeUpdate: function(action, props) {},\n    afterUpdate: function(action, props) {\n        if (action === 'mount') {} else if (action === 'answer') {\n            state = CallPanel.state.ONLINE;\n            this.triggerView(this.props);\n        } else if (action === 'ignore') {\n            state = CallPanel.state.HIDDEN;\n            this.triggerView(this.props);\n        } else if (action === 'cancel') {\n            state = CallPanel.state.HIDDEN;\n            this.triggerView(this.props);\n        } else if (action === 'hangup') {\n            state = CallPanel.state.HIDDEN;\n            this.triggerView(this.props);\n        } else if (action === 'record') {\n\n        } else if (action === 'hold') {\n\n        } else if (action === 'mute') {\n\n        }\n    },\n    methods: {\n        answer: function() {\n            if (this.options.actions && this.options.actions.answer) {\n                this.beforeUpdate.bind(this, 'answer')\n                    // FIXME: The custom login may not be a Promise\n                return this.options.actions.answer(this.props)\n                    .then(this.afterUpdate.bind(this, 'answer'))\n                    .catch(err => console.error('login error:' + error));\n            }\n        },\n        ignore: function() {\n            if (this.options.actions && this.options.actions.ignore) {\n                this.beforeUpdate.bind(this, 'ignore')\n                    // FIXME: The custom login may not be a Promise\n                return this.options.actions.ignore(this.props)\n                    .then(this.afterUpdate.bind(this, 'ignore'))\n                    .catch(err => console.error('login error:' + error));\n            }\n        },\n        cancel: function() {\n            if (this.options.actions && this.options.actions.cancel) {\n                this.beforeUpdate.bind(this, 'cancel')\n                    // FIXME: The custom login may not be a Promise\n                return this.options.actions.cancel(this.props)\n                    .then(this.afterUpdate.bind(this, 'cancel'))\n                    .catch(err => console.error('login error:' + error));\n            }\n        },\n\n        hangup: function() {\n            if (this.options.actions && this.options.actions.hangup) {\n                this.beforeUpdate.bind(this, 'hangup')\n                    // FIXME: The custom login may not be a Promise\n                return this.options.actions.hangup(this.props)\n                    .then(this.afterUpdate.bind(this, 'hangup'))\n                    .catch(err => console.error('login error:' + error));\n            }\n        },\n\n        called: function(event) {\n            state = CallPanel.state.CALLIN;\n            this.triggerView();\n        },\n\n        callStarted: function(event) {\n            state = CallPanel.state.ONLINE;\n            this.triggerView();\n        },\n\n        callRejected: function(event) {\n            console.log('call reject');\n            state = CallPanel.state.HIDDEN;\n            this.triggerView();\n        },\n\n        callEnded: function(event) {\n            console.log('end');\n            state = CallPanel.state.HIDDEN;\n            this.triggerView();\n        },\n\n        callFailed: function(event) {\n            console.log('fail');\n            state = CallPanel.state.HIDDEN;\n            this.triggerView();\n        }\n    }\n});\nCallPanel.state = {\n    'HIDDEN': 0,\n    'CALLIN': 1,\n    'CALLOUT': 2,\n    'ONLINE': 3\n}\n\nvar triggerView = function(props) {\n    props.dom['callin-panel'].style.display = 'none';\n    props.dom['callout-panel'].style.display = 'none';\n    props.dom['online-panel'].style.display = 'none';\n    if (callTimeInterval) {\n        callTimeInterval.cancel();\n        callTimeInterval = null;\n    }\n    if (state === CallPanel.state.CALLIN) {\n        props.dom['callin-panel'].style.display = 'block';\n    } else if (state === CallPanel.state.CALLOUT) {\n        props.dom['callout-panel'].style.display = 'block';\n    } else if (state === CallPanel.state.ONLINE) {\n        props.dom['online-panel'].style.display = 'block';\n        // this.callTimeInterval = this.updateCallTime(this.line.timeCallStarted);\n    }\n};\nvar loading = function(target, text) {\n    var dotCount = 1;\n    var interval = window.setInterval(() => {\n        var dot = '';\n        var dotCountTmp = dotCount;\n        while (dotCount--)\n            dot += '.';\n        target.textContent = text + dot;\n        dotCount = (dotCountTmp + 1) % 4;\n    }, 500)\n    return {\n        cancel: function(text) {\n            if (interval) {\n                window.clearInterval(interval);\n                interval = null;\n                if (typeof text !== 'undefined')\n                    target.textContent = text;\n            }\n        }\n    }\n};\n// var prototype.updateCallTime = function(startTime) {\n//     // FIXME: it's not accurate\n//     if (!startTime)\n//         return;\n//     var currentTime = Date.now() - startTime;\n//     var callPanel = this;\n//     var callTimeInterval = window.setInterval(() => {\n//         var sec = currentTime % 60;\n//         var min = Math.floor(currentTime / 60);\n//         this.element.panel.onlinePanel.callTime.textContent = min + \":\" + sec;\n//         currentTime++;\n//     }, 1000);\n//     return {\n//         cancel: function() {\n//             if (!callTimeInterval)\n//                 return;\n//             window.clearInterval(callTimeInterval);\n//             callPanel.element.panel.onlinePanel.callTime.textContent = \"0:0\";\n//             callTimeInterval = null;\n//         }\n//     }\n// };\nexport default CallPanel;\n","import { Component, register } from '../component'\nvar DialPad = register({\n    beforeUpdate: function(action, props) {\n        if (action === 'dialing') {\n            // ...\n        } else if (action === 'callout') {\n            console.log('div before callout');\n            this.interval = loading(this.props.dom.callout, 'Call');\n        }\n    },\n    afterUpdate: function(action, props) {\n        if (action === 'dialing') {\n            // ...\n        } else if (action === 'callout') {\n            if (this.interval) {\n                this.interval.cancel('Call');\n                this.interval = null;\n            }\n        }\n    },\n    methods: {\n        dialing: function(finish, event) {\n            var button = event.target;\n            this.props.dom.number.value += button.getAttribute('data-value');\n        },\n        callout: function(finish) {\n            this.props.toNumber = this.props.dom.number.value;\n            this.props.fromNumber = localStorage.getItem('username');\n            return finish(this.props);\n        }\n    }\n})\n\nfunction loading(target, text) {\n    var dotCount = 1;\n    var interval = window.setInterval(() => {\n        var dot = '';\n        var dotCountTmp = dotCount;\n        while (dotCount--)\n            dot += '.';\n        target.textContent = text + dot;\n        dotCount = (dotCountTmp + 1) % 4;\n    }, 500)\n    return {\n        cancel: function(text) {\n            if (interval) {\n                window.clearInterval(interval);\n                interval = null;\n                if (typeof text !== 'undefined')\n                    target.textContent = text;\n            }\n        }\n    }\n}\nexport default DialPad;\n","var sdk = new RingCentral.SDK({\n    appKey: 'eac8797af1b3502F2CEAAEECAC3Ed378AA7858A386656f28A008b0c638A754B1',\n    appSecret: 'c082702E4ea4DA18c4b1377917778a8aafabCA3Be579B78B66d17C36874b27F4',\n    server: RingCentral.SDK.server.production\n});\nvar webPhone = new RingCentral.WebPhone({\n    audioHelper: {\n        incoming: '../demo/audio/incoming.ogg',\n        outgoing: '../demo/audio/outgoing.ogg'\n    }\n});;\nvar rcHelper = function(sdk, webPhone) {\n    var line;\n    var handlers = {\n        called: [],\n        callStarted: [],\n        callRejected: [],\n        callEnded: [],\n        callFailed: []\n    };\n    return {\n        login: function(props) {\n            console.log('helper login');\n            var dom = props.dom;\n            return sdk.platform()\n                .login({\n                    username: dom.username.value,\n                    extension: dom.extension.value,\n                    password: dom.password.value\n                })\n                .then(() => registerSIP())\n\n            function registerSIP() {\n                console.log('register');\n                return sdk.platform()\n                    .post('/client-info/sip-provision', {\n                        sipInfo: [{\n                            transport: 'WSS'\n                        }]\n                    })\n                    .then(res => {\n                        var data = res.json();\n                        console.log(\"Sip Provisioning Data from RC API: \" + JSON.stringify(data));\n                        console.log(data.sipFlags.outboundCallsEnabled);\n                        var checkFlags = false;\n                        return webPhone.register(data, checkFlags)\n                            .then(function() {\n                                console.log('Registered');\n                            })\n                            .catch(function(e) {\n                                return Promise.reject(err);\n                            });\n\n                    }).catch(e => console.error(e));\n            }\n        },\n        callout: function(props) {\n            console.log('user callout');\n            var toNumber = props.toNumber;\n            var fromNumber = props.fromNumber;\n\n            // TODO: validate toNumber and fromNumber\n            if (!sdk || !webPhone) {\n                throw Error('Need to set up SDK and webPhone first.');\n                return;\n            }\n            return sdk.platform()\n                .get('/restapi/v1.0/account/~/extension/~')\n                .then(res => {\n                    console.log(res);\n                    var info = res.json();\n                    if (info && info.regionalSettings && info.regionalSettings.homeCountry) {\n                        return info.regionalSettings.homeCountry.id;\n                    }\n                    return null;\n                })\n                .then(countryId => {\n                    webPhone.call(toNumber, fromNumber, countryId);\n                })\n                .catch(e => console.error(e));\n        },\n        answer: function(props) {\n            return webPhone\n                .answer(line)\n                .catch(function(e) { console.error(e) });\n        },\n        ignore: function(props) {},\n        cancel: function(props) {\n            return line\n                .cancel()\n                .catch(function(e) { console.error(e) });\n        },\n        hangup: function(props) {\n            return webPhone\n                .hangup(line)\n                .catch(err => console.error(err));\n        },\n        record: function(props) {},\n        hold: function(props) {},\n        mute: function(props) {},\n        called: function(handler) {\n            handlers.called.push(handler);\n        },\n        callStarted: function(handler) {\n            handlers.callStarted.push(handler);\n        },\n        callRejected: function(handler) {\n            handlers.callRejected.push(handler);\n        },\n        callEnded: function(handler) {\n            handlers.callEnded.push(handler);\n        },\n        callFailed: function(handler) {\n            handlers.callFailed.push(handler);\n        },\n        initPhoneListener: function(props) {\n            webPhone.ua.on('sipIncomingCall', e => {\n                line = e;\n                handlers.called.forEach(h => h(e));\n            });\n            webPhone.ua.on('callStarted', e => {\n                handlers.callStarted.forEach(h => h(e));\n            });\n            webPhone.ua.on('callRejected', e => {\n                handlers.callRejected.forEach(h => h(e));\n            });\n            webPhone.ua.on('callEnded', e => {\n                handlers.callEnded.forEach(h => h(e));\n            });\n            webPhone.ua.on('callFailed', e => {\n                handlers.callFailed.forEach(h => h(e));\n            });\n        }\n    }\n}(sdk, webPhone);\nexport default rcHelper;\n","import AuthPanel from './components/auth-panel'\nimport CallPanel from './components/call-panel'\nimport DialPad from './components/dial-pad'\nimport CallLog from './components/call-log'\nimport rcHelper from './helper'\n\nwindow.AuthPanel = AuthPanel;\nwindow.CallPanel = CallPanel;\nwindow.DialPad = DialPad;\nwindow.CallLog = CallLog;\nwindow.rcHelper = rcHelper;\n\nexport {\n    AuthPanel,\n    CallPanel,\n    DialPad,\n    CallLog,\n    rcHelper\n}\n"]}